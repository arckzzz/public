(()=>{var t={158:(t,e,n)=>{var r=n(178);r&&r.__esModule&&(r=r.default),t.exports="string"==typeof r?r:r.toString()},178:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([t.id,".arckzzz-shadow{box-shadow:inset -0.25em -0.25em .33em rgba(0,0,0,.4),inset .25em .25em .33em hsla(0,0%,100%,.8),inset 0 -0.25em .33em rgba(0,0,0,.8);padding:.33em}.architecture .list{display:grid;grid-template-columns:1fr;gap:.5em}.architecture .list #building0 .sprite{background-position-y:10em}.architecture .list #building1 .sprite{background-position-y:0em}.architecture .list #building2 .sprite{background-position-y:-10em}.architecture .list #building3 .sprite{background-position-y:-20em}.architecture .list #building4 .sprite{background-position-y:-30em}.architecture .list #building5 .sprite{background-position-y:-40em}.architecture .list #building6 .sprite{background-position-y:-50em}.architecture .list #building7 .sprite{background-position-y:-60em}.architecture .list #building8 .sprite{background-position-y:-70em}.architecture .list #building9 .sprite{background-position-y:-80em}.architecture .list #building10 .sprite{background-position-y:-90em}.architecture .list #building11 .sprite{background-position-y:-100em}.architecture .list #building12 .sprite{background-position-y:-110em}.architecture .list .building-card{border-radius:1em;padding:.25em;background:rgb(223.262295082,203.7868852459,154.737704918);display:flex;flex-direction:row;gap:.5em}.architecture .list .building-card .sprite{height:10em;aspect-ratio:15/10;background-size:15em;border-radius:.75em}.architecture .list .building-card .info{flex:1;display:flex;flex-direction:column}.architecture .list .building-card .info .storage{display:flex;flex-direction:row;align-items:center;gap:.5em}.architecture .list .building-card .info h3{font-size:1.25em;font-weight:600;color:#e11612;display:flex;align-items:center;justify-content:space-between}.architecture .list .building-card .info h3 span{font-size:.75em;font-weight:400;color:hsla(0,0%,100%,.7);border-radius:.75em;padding:.25em .5em;background:rgb(198.737704918,164.2131147541,77.262295082);width:3em;text-align:center;cursor:pointer}",""]);const u=a},179:(t,e,n)=>{"use strict";t.exports=n.p+"images/defensece26eb7e02199cd60a4e.png"},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(a[c]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},321:(t,e,n)=>{var r=n(373);r&&r.__esModule&&(r=r.default),t.exports="string"==typeof r?r:r.toString()},332:(t,e,n)=>{"use strict";t.exports=n.p+"images/time8f5faac18e0d798b1d64.png"},373:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>C});var r=n(601),i=n.n(r),o=n(314),a=n.n(o),u=n(417),c=n.n(u),s=new URL(n(625),n.b),l=new URL(n(715),n.b),f=new URL(n(179),n.b),d=new URL(n(851),n.b),p=new URL(n(332),n.b),h=new URL(n(674),n.b),g=new URL(n(996),n.b),m=a()(i());m.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wdth,wght@0,62.5..100,100..900;1,62.5..100,100..900&display=swap);"]);var v=c()(s),b=c()(l),y=c()(f),_=c()(d),w=c()(p),z=c()(h),k=c()(g);m.push([t.id,`html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,main,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}html{font-family:"Noto Sans",sans-serif;font-optical-sizing:auto;font-style:normal;font-size:16px}b{font-weight:bold}i{font-style:italic}.arckzzz-tooltip{visibility:hidden;opacity:0;transition:opacity .2s ease;position:absolute;background-color:#333;color:#fff;padding:.5em .75em;border-radius:.5em;font-size:12px;z-index:1000;pointer-events:none;text-transform:none;width:max-content;max-width:30vw;font-weight:normal;line-height:1.1em;user-select:none}.arckzzz-tooltip:before{border-width:.5em;border-style:solid;content:"";position:absolute}.arckzzz-tooltip *{width:auto;white-space:normal}.arckzzz-tooltip.top{bottom:calc(100% + 1em);left:50%;transform:translateX(-50%)}.arckzzz-tooltip.top::before{top:100%;left:50%;transform:translateX(-50%);border-color:#333 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.arckzzz-tooltip.bottom{top:calc(100% + 1em);left:50%;transform:translateX(-50%)}.arckzzz-tooltip.bottom::before{bottom:100%;left:50%;transform:translateX(-50%);border-color:rgba(0,0,0,0) rgba(0,0,0,0) #333 rgba(0,0,0,0)}.arckzzz-tooltip.left{right:calc(100% + 1em);top:50%;transform:translateY(-50%)}.arckzzz-tooltip.left::before{right:-1em;top:50%;transform:translateY(-50%);border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #333}.arckzzz-tooltip.right{left:calc(100% + 1em);top:50%;transform:translateY(-50%)}.arckzzz-tooltip.right::before{left:-1em;top:50%;transform:translateY(-50%);border-color:rgba(0,0,0,0) #333 rgba(0,0,0,0) rgba(0,0,0,0)}*:has(>.arckzzz-tooltip){position:relative;cursor:pointer}*:has(>.arckzzz-tooltip):hover .arckzzz-tooltip{visibility:visible !important;opacity:1 !important}.arckzzz-shadow,#arckzzz-settings,#arckzzz-dialog{box-shadow:inset -0.25em -0.25em .33em rgba(0,0,0,.4),inset .25em .25em .33em hsla(0,0%,100%,.8),inset 0 -0.25em .33em rgba(0,0,0,.8);padding:.33em}#arckzzz-settings{position:fixed;bottom:1em;right:1em;border-radius:1em;display:flex;align-items:center;justify-content:center;cursor:pointer;background-color:#d3b874;transition:background-color ease .2s;width:3em;height:3em}#arckzzz-settings:hover{background-color:#b9984f}#arckzzz-dialog{border-radius:1em;background-color:#d3b874;padding:1em !important;border:none;min-width:50vw}#arckzzz-dialog h1{font-size:2em;display:flex;align-items:center;gap:1em;position:relative}#arckzzz-dialog h1 .discord svg{height:1.25em;width:auto}#arckzzz-dialog h1 .discord{font-size:.4em;background:#5765f2;color:#fff;border-radius:2em;padding:.75em 1.5em;text-transform:uppercase;display:flex;align-items:center;gap:.5em;font-weight:500;transition:background ease .2s}#arckzzz-dialog h1 .discord:focus{outline:none}#arckzzz-dialog h1 .discord:hover{background:rgb(63.3314917127,79.3038674033,240.1685082873)}#arckzzz-dialog h1 #arckzzz-close{position:absolute;cursor:pointer;font-size:.75em;right:0;width:.75em;height:.75em;padding:.33em;border-radius:.5em;display:flex;align-items:center;justify-content:center;transition:background-color ease .2s}#arckzzz-dialog h1 #arckzzz-close:hover{background:hsla(0,0%,100%,.2)}#arckzzz-dialog .features,#arckzzz-dialog .options{margin-top:1em}#arckzzz-dialog .features h2,#arckzzz-dialog .options h2{font-size:1.5em;margin-bottom:.5em}#arckzzz-dialog .options label{display:inline-flex;align-items:center;gap:1em;margin-bottom:.5em;cursor:pointer;user-select:none}#arckzzz-dialog .options label .slider{background-color:hsla(0,0%,100%,.25);height:1.5em;aspect-ratio:30/17;border-radius:1.5em;cursor:pointer;position:relative;transition:.2s}#arckzzz-dialog .options label .slider:before{background-color:hsla(0,0%,100%,.5);bottom:.25em;content:"";height:1em;left:.25em;position:absolute;transition:.2s;width:1em;border-radius:50%}#arckzzz-dialog .options label input[type=checkbox]{display:none}#arckzzz-dialog .options label input[type=checkbox]:checked+.slider:before{transform:translateX(1.2em)}#arckzzz-dialog .options label input[type=checkbox]:checked+.slider{background-color:#66bb6a}#arckzzz-dialog footer{text-align:center;color:rgb(93.4262295082,75.2786885246,29.5737704918);margin-top:1em;font-size:.9em}dialog::backdrop{background:rgba(0,0,0,.5);backdrop-filter:blur(2px)}.arckzzz-shadow,#arckzzz-settings,#arckzzz-dialog{box-shadow:inset -0.25em -0.25em .33em rgba(0,0,0,.4),inset .25em .25em .33em hsla(0,0%,100%,.8),inset 0 -0.25em .33em rgba(0,0,0,.8);padding:.33em}.arckzzz-toast-host{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;z-index:999999;pointer-events:none;max-width:30vw}.arckzzz-toast-host .arckzzz-toast{background:rgba(20,20,20,.92);color:#fff;font-size:13px;line-height:1.4;border-radius:6px;box-shadow:0 15px 35px rgba(0,0,0,.45);padding:.75rem 1rem;min-width:200px;max-width:320px;border:1px solid hsla(0,0%,100%,.12);opacity:0;transform:translateY(-1em);transition:opacity .2s ease,transform .2s ease;pointer-events:auto}.arckzzz-toast-host .arckzzz-toast.show{opacity:1;transform:translateY(0)}.arckzzz-toast-host .arckzzz-toast-leaving{opacity:0 !important;transform:translateY(-1em) !important;transition-duration:.4s !important}.arckzzz-toast-host .arckzzz-toast-inner{display:flex;align-items:flex-start;gap:.5rem;word-break:break-word}.arckzzz-shadow,#arckzzz-settings,#arckzzz-dialog{box-shadow:inset -0.25em -0.25em .33em rgba(0,0,0,.4),inset .25em .25em .33em hsla(0,0%,100%,.8),inset 0 -0.25em .33em rgba(0,0,0,.8);padding:.33em}.arckzzz-table{width:100%}.arckzzz-table thead{background-color:hsla(0,0%,100%,.3)}.arckzzz-table thead tr{font-weight:bold}.arckzzz-table thead tr th{padding:.5em;text-align:left}.arckzzz-table tbody tr.active{font-weight:bold}.arckzzz-table tbody tr td{padding:.5em;text-align:left}.arckzzz-table tbody tr:nth-child(even){background-color:hsla(0,0%,100%,.15)}html{background:#d3b874}#centre{padding:4em 0 1em;display:flex;flex-direction:column;gap:.75em;background:#d3b874}#centre h1,#centre h2{margin:0;padding:0}#centre h1{font-size:2em;text-align:left;font-weight:700}#centre h2{font-size:1.5em;text-align:left;font-weight:600;color:#c5130f;font-style:italic}#centre .reine,#centre .architecture{display:flex;flex-direction:column;gap:.75em}#centre .arckzzz-shadow,#centre #arckzzz-settings,#centre #arckzzz-dialog{box-shadow:inset -0.25em -0.25em .33em rgba(0,0,0,.4),inset .25em .25em .33em hsla(0,0%,100%,.8),inset 0 -0.25em .33em rgba(0,0,0,.8);padding:.33em}#centre .architecture .list{display:grid;grid-template-columns:1fr;gap:.5em}#centre .architecture .list #building0 .sprite{background-position-y:10em}#centre .architecture .list #building1 .sprite{background-position-y:0em}#centre .architecture .list #building2 .sprite{background-position-y:-10em}#centre .architecture .list #building3 .sprite{background-position-y:-20em}#centre .architecture .list #building4 .sprite{background-position-y:-30em}#centre .architecture .list #building5 .sprite{background-position-y:-40em}#centre .architecture .list #building6 .sprite{background-position-y:-50em}#centre .architecture .list #building7 .sprite{background-position-y:-60em}#centre .architecture .list #building8 .sprite{background-position-y:-70em}#centre .architecture .list #building9 .sprite{background-position-y:-80em}#centre .architecture .list #building10 .sprite{background-position-y:-90em}#centre .architecture .list #building11 .sprite{background-position-y:-100em}#centre .architecture .list #building12 .sprite{background-position-y:-110em}#centre .architecture .list .building-card{border-radius:1em;padding:.25em;background:rgb(223.262295082,203.7868852459,154.737704918);display:flex;flex-direction:row;gap:.5em}#centre .architecture .list .building-card .sprite{height:10em;aspect-ratio:15/10;background-size:15em;border-radius:.75em}#centre .architecture .list .building-card .info{flex:1;display:flex;flex-direction:column}#centre .architecture .list .building-card .info .storage{display:flex;flex-direction:row;align-items:center;gap:.5em}#centre .architecture .list .building-card .info h3{font-size:1.25em;font-weight:600;color:#e11612;display:flex;align-items:center;justify-content:space-between}#centre .architecture .list .building-card .info h3 span{font-size:.75em;font-weight:400;color:hsla(0,0%,100%,.7);border-radius:.75em;padding:.25em .5em;background:rgb(198.737704918,164.2131147541,77.262295082);width:3em;text-align:center;cursor:pointer}#centre .arckzzz-shadow,#centre #arckzzz-settings,#centre #arckzzz-dialog{box-shadow:inset -0.25em -0.25em .33em rgba(0,0,0,.4),inset .25em .25em .33em hsla(0,0%,100%,.8),inset 0 -0.25em .33em rgba(0,0,0,.8);padding:.33em}#centre .reine .cancel-last{padding:.5em 1em;background:rgb(198.737704918,164.2131147541,77.262295082);color:hsla(0,0%,100%,.5);border:none;border-radius:.5em;cursor:pointer;transition:all .2s ease;place-self:anchor-center;user-select:none}#centre .reine .cancel-last:hover{background:hsl(42.9473684211,51.912568306%,49.1176470588%);color:hsla(0,0%,100%,.8)}#centre .reine .units{display:grid;grid-template-columns:1fr 1fr;gap:.5em}#centre .reine .units #unite1 .sprite{background-position-y:-6em}#centre .reine .units #unite2 .sprite{background-position-y:-12em}#centre .reine .units #unite3 .sprite{background-position-y:-18em}#centre .reine .units #unite4 .sprite{background-position-y:-24em}#centre .reine .units #unite5 .sprite{background-position-y:-30em}#centre .reine .units #unite6 .sprite{background-position-y:-36em}#centre .reine .units #unite7 .sprite{background-position-y:-42em}#centre .reine .units #unite8 .sprite{background-position-y:-48em}#centre .reine .units #unite9 .sprite{background-position-y:-54em}#centre .reine .units #unite10 .sprite{background-position-y:-60em}#centre .reine .units #unite11 .sprite{background-position-y:-66em}#centre .reine .units #unite12 .sprite{background-position-y:-72em}#centre .reine .units .unit{border-radius:1em;padding:.25em;background:rgb(223.262295082,203.7868852459,154.737704918);display:flex;flex-direction:row;gap:.5em}#centre .reine .units .unit .info{display:flex;flex-direction:column;gap:.33em;width:100%}#centre .reine .units .unit .info .input{display:flex;align-items:center;background:hsl(42.9473684211,51.912568306%,84.1176470588%);color:#000;padding:.375em;border-radius:.75em;margin-top:auto}#centre .reine .units .unit .info .input label{flex:1;width:100%}#centre .reine .units .unit .info .input input[type=text]{font-size:1em;text-align:left;border:none;padding:0 .5em;background:rgba(0,0,0,0);width:100%}#centre .reine .units .unit .info .input input[type=text]:focus{outline:none;box-shadow:none}#centre .reine .units .unit .info .input button{margin-left:.25em;padding:.33em .66em;background:rgb(217.131147541,193.893442623,135.368852459);font-size:1em;border:none;border-radius:.375em;cursor:pointer;transition:background-color .2s ease}#centre .reine .units .unit .info .input button:hover{background:rgb(204.868852459,174.106557377,96.631147541)}#centre .reine .units .unit .info .location{user-select:none}#centre .reine .units .unit .info .cost{display:flex;flex-direction:row;gap:.25em}#centre .reine .units .unit .info .cost .sufficient,#centre .reine .units .unit .info .cost .insufficient{font-weight:600}#centre .reine .units .unit .info .cost .sufficient{color:#36802e}#centre .reine .units .unit .info .cost .insufficient{color:#c83d3d}#centre .reine .units .unit .unit-data{display:flex;flex-direction:column;justify-content:center;gap:.33em;width:4em}#centre .reine .units .unit .unit-data>span{font-size:1.1em}#centre .reine .units .unit h3{font-size:1.25em;font-weight:600;color:#e11612}#centre .reine .units .unit .sprite{height:6em;aspect-ratio:15/10;background-size:9em;border-radius:.75em}#centre .reine .units .unit:nth-child(-n+1){grid-column:span 2}#centre .reine .units .unit:nth-child(-n+1) .sprite{height:9em;background-size:14em}.with-icon{display:flex;flex-direction:row;align-items:center;font-size:1em;gap:.33em}.with-icon.after::before{order:2}.with-icon::before{content:"";width:1.25em;aspect-ratio:1/1;background-size:contain;background-repeat:no-repeat;background-position:center}.with-icon.life::before{background-image:url(${v})}.with-icon.attack::before{background-image:url(${b})}.with-icon.defense::before{background-image:url(${y})}.with-icon.food::before{background-image:url(${_})}.with-icon.time::before{background-image:url(${w})}.with-icon.location::before{background-image:url(${z})}.with-icon.material::before{background-image:url(${k})}`,""]);const C=m},417:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},543:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",c=16,s=32,l=64,f=128,d=256,p=1/0,h=9007199254740991,g=NaN,m=4294967295,v=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",s],["partialRight",l],["rearg",d]],b="[object Arguments]",y="[object Array]",_="[object Boolean]",w="[object Date]",z="[object Error]",k="[object Function]",C="[object GeneratorFunction]",x="[object Map]",S="[object Number]",T="[object Object]",E="[object Promise]",A="[object RegExp]",$="[object Set]",L="[object String]",R="[object Symbol]",N="[object WeakMap]",O="[object ArrayBuffer]",j="[object DataView]",M="[object Float32Array]",U="[object Float64Array]",q="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",P="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,Z=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,V=RegExp(J.source),K=RegExp(Y.source),Q=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),at=/^\s+/,ut=/\s/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zt=/($^)/,kt=/['\n\r\u2028\u2029\\]/g,Ct="\\ud800-\\udfff",xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="\\u2700-\\u27bf",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",Et="A-Z\\xc0-\\xd6\\xd8-\\xde",At="\\ufe0e\\ufe0f",$t="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lt="['’]",Rt="["+Ct+"]",Nt="["+$t+"]",Ot="["+xt+"]",jt="\\d+",Mt="["+St+"]",Ut="["+Tt+"]",qt="[^"+Ct+$t+jt+St+Tt+Et+"]",It="\\ud83c[\\udffb-\\udfff]",Dt="[^"+Ct+"]",Pt="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ft="["+Et+"]",Wt="\\u200d",Ht="(?:"+Ut+"|"+qt+")",Zt="(?:"+Ft+"|"+qt+")",Gt="(?:['’](?:d|ll|m|re|s|t|ve))?",Jt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Ot+"|"+It+")"+"?",Vt="["+At+"]?",Kt=Vt+Yt+("(?:"+Wt+"(?:"+[Dt,Pt,Bt].join("|")+")"+Vt+Yt+")*"),Qt="(?:"+[Mt,Pt,Bt].join("|")+")"+Kt,Xt="(?:"+[Dt+Ot+"?",Ot,Pt,Bt,Rt].join("|")+")",te=RegExp(Lt,"g"),ee=RegExp(Ot,"g"),ne=RegExp(It+"(?="+It+")|"+Xt+Kt,"g"),re=RegExp([Ft+"?"+Ut+"+"+Gt+"(?="+[Nt,Ft,"$"].join("|")+")",Zt+"+"+Jt+"(?="+[Nt,Ft+Ht,"$"].join("|")+")",Ft+"?"+Ht+"+"+Gt,Ft+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jt,Qt].join("|"),"g"),ie=RegExp("["+Wt+Ct+xt+At+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ue=-1,ce={};ce[M]=ce[U]=ce[q]=ce[I]=ce[D]=ce[P]=ce[B]=ce[F]=ce[W]=!0,ce[b]=ce[y]=ce[O]=ce[_]=ce[j]=ce[w]=ce[z]=ce[k]=ce[x]=ce[S]=ce[T]=ce[A]=ce[$]=ce[L]=ce[N]=!1;var se={};se[b]=se[y]=se[O]=se[j]=se[_]=se[w]=se[M]=se[U]=se[q]=se[I]=se[D]=se[x]=se[S]=se[T]=se[A]=se[$]=se[L]=se[R]=se[P]=se[B]=se[F]=se[W]=!0,se[z]=se[k]=se[N]=!1;var le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,de=parseInt,pe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,he="object"==typeof self&&self&&self.Object===Object&&self,ge=pe||he||Function("return this")(),me=e&&!e.nodeType&&e,ve=me&&t&&!t.nodeType&&t,be=ve&&ve.exports===me,ye=be&&pe.process,_e=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||ye&&ye.binding&&ye.binding("util")}catch(t){}}(),we=_e&&_e.isArrayBuffer,ze=_e&&_e.isDate,ke=_e&&_e.isMap,Ce=_e&&_e.isRegExp,xe=_e&&_e.isSet,Se=_e&&_e.isTypedArray;function Te(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ee(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function $e(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Re(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ne(t,e){return!!(null==t?0:t.length)&&Fe(t,e,0)>-1}function Oe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function je(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Me(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ue(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function qe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var De=Ge("length");function Pe(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function Be(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Fe(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Be(t,He,n)}function We(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function He(t){return t!=t}function Ze(t,e){var n=null==t?0:t.length;return n?Ve(t,e)/n:g}function Ge(t){return function(e){return null==e?i:e[t]}}function Je(t){return function(e){return null==t?i:t[e]}}function Ye(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Ve(t,e){for(var n,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function Ke(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Qe(t){return t?t.slice(0,mn(t)+1).replace(at,""):t}function Xe(t){return function(e){return t(e)}}function tn(t,e){return je(e,function(e){return t[e]})}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&Fe(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&Fe(e,t[n],0)>-1;);return n}var on=Je({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(t){return"\\"+le[t]}function cn(t){return ie.test(t)}function sn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function ln(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==u||(t[n]=u,o[i++]=n)}return o}function dn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function pn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function hn(t){return cn(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):De(t)}function gn(t){return cn(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function mn(t){for(var e=t.length;e--&&ut.test(t.charAt(e)););return e}var vn=Je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var bn=function t(e){var n,r=(e=null==e?ge:bn.defaults(ge.Object(),e,bn.pick(ge,ae))).Array,ut=e.Date,Ct=e.Error,xt=e.Function,St=e.Math,Tt=e.Object,Et=e.RegExp,At=e.String,$t=e.TypeError,Lt=r.prototype,Rt=xt.prototype,Nt=Tt.prototype,Ot=e["__core-js_shared__"],jt=Rt.toString,Mt=Nt.hasOwnProperty,Ut=0,qt=(n=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",It=Nt.toString,Dt=jt.call(Tt),Pt=ge._,Bt=Et("^"+jt.call(Mt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=be?e.Buffer:i,Wt=e.Symbol,Ht=e.Uint8Array,Zt=Ft?Ft.allocUnsafe:i,Gt=ln(Tt.getPrototypeOf,Tt),Jt=Tt.create,Yt=Nt.propertyIsEnumerable,Vt=Lt.splice,Kt=Wt?Wt.isConcatSpreadable:i,Qt=Wt?Wt.iterator:i,Xt=Wt?Wt.toStringTag:i,ne=function(){try{var t=po(Tt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ie=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,le=ut&&ut.now!==ge.Date.now&&ut.now,pe=e.setTimeout!==ge.setTimeout&&e.setTimeout,he=St.ceil,me=St.floor,ve=Tt.getOwnPropertySymbols,ye=Ft?Ft.isBuffer:i,_e=e.isFinite,De=Lt.join,Je=ln(Tt.keys,Tt),yn=St.max,_n=St.min,wn=ut.now,zn=e.parseInt,kn=St.random,Cn=Lt.reverse,xn=po(e,"DataView"),Sn=po(e,"Map"),Tn=po(e,"Promise"),En=po(e,"Set"),An=po(e,"WeakMap"),$n=po(Tt,"create"),Ln=An&&new An,Rn={},Nn=Io(xn),On=Io(Sn),jn=Io(Tn),Mn=Io(En),Un=Io(An),qn=Wt?Wt.prototype:i,In=qn?qn.valueOf:i,Dn=qn?qn.toString:i;function Pn(t){if(nu(t)&&!Ha(t)&&!(t instanceof Hn)){if(t instanceof Wn)return t;if(Mt.call(t,"__wrapped__"))return Do(t)}return new Wn(t)}var Bn=function(){function t(){}return function(e){if(!eu(e))return{};if(Jt)return Jt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Fn(){}function Wn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Jn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Jn;++e<n;)this.add(t[e])}function Vn(t){var e=this.__data__=new Gn(t);this.size=e.size}function Kn(t,e){var n=Ha(t),r=!n&&Wa(t),i=!n&&!r&&Ya(t),o=!n&&!r&&!i&&lu(t),a=n||r||i||o,u=a?Ke(t.length,At):[],c=u.length;for(var s in t)!e&&!Mt.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||_o(s,c))||u.push(s);return u}function Qn(t){var e=t.length;return e?t[Yr(0,e-1)]:i}function Xn(t,e){return Mo($i(t),cr(e,0,t.length))}function tr(t){return Mo($i(t))}function er(t,e,n){(n!==i&&!Pa(t[e],n)||n===i&&!(e in t))&&ar(t,e,n)}function nr(t,e,n){var r=t[e];Mt.call(t,e)&&Pa(r,n)&&(n!==i||e in t)||ar(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if(Pa(t[n][0],e))return n;return-1}function ir(t,e,n,r){return pr(t,function(t,i,o){e(r,t,n(t),o)}),r}function or(t,e){return t&&Li(e,Ru(e),t)}function ar(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ur(t,e){for(var n=-1,o=e.length,a=r(o),u=null==t;++n<o;)a[n]=u?i:Tu(t,e[n]);return a}function cr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function sr(t,e,n,r,o,a){var u,c=1&e,s=2&e,l=4&e;if(n&&(u=o?n(t,r,o,a):n(t)),u!==i)return u;if(!eu(t))return t;var f=Ha(t);if(f){if(u=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Mt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!c)return $i(t,u)}else{var d=mo(t),p=d==k||d==C;if(Ya(t))return Ci(t,c);if(d==T||d==b||p&&!o){if(u=s||p?{}:bo(t),!c)return s?function(t,e){return Li(t,go(t),e)}(t,function(t,e){return t&&Li(e,Nu(e),t)}(u,t)):function(t,e){return Li(t,ho(t),e)}(t,or(u,t))}else{if(!se[d])return o?t:{};u=function(t,e,n){var r=t.constructor;switch(e){case O:return xi(t);case _:case w:return new r(+t);case j:return function(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case M:case U:case q:case I:case D:case P:case B:case F:case W:return Si(t,n);case x:return new r;case S:case L:return new r(t);case A:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case $:return new r;case R:return i=t,In?Tt(In.call(i)):{}}var i}(t,d,c)}}a||(a=new Vn);var h=a.get(t);if(h)return h;a.set(t,u),uu(t)?t.forEach(function(r){u.add(sr(r,e,n,r,t,a))}):ru(t)&&t.forEach(function(r,i){u.set(i,sr(r,e,n,i,t,a))});var g=f?i:(l?s?oo:io:s?Nu:Ru)(t);return Ae(g||t,function(r,i){g&&(r=t[i=r]),nr(u,i,sr(r,e,n,i,t,a))}),u}function lr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Tt(t);r--;){var o=n[r],a=e[o],u=t[o];if(u===i&&!(o in t)||!a(u))return!1}return!0}function fr(t,e,n){if("function"!=typeof t)throw new $t(o);return Ro(function(){t.apply(i,n)},e)}function dr(t,e,n,r){var i=-1,o=Ne,a=!0,u=t.length,c=[],s=e.length;if(!u)return c;n&&(e=je(e,Xe(n))),r?(o=Oe,a=!1):e.length>=200&&(o=en,a=!1,e=new Yn(e));t:for(;++i<u;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var d=s;d--;)if(e[d]===f)continue t;c.push(l)}else o(e,f,r)||c.push(l)}return c}Pn.templateSettings={escape:Q,evaluate:X,interpolate:tt,variable:"",imports:{_:Pn}},Pn.prototype=Fn.prototype,Pn.prototype.constructor=Pn,Wn.prototype=Bn(Fn.prototype),Wn.prototype.constructor=Wn,Hn.prototype=Bn(Fn.prototype),Hn.prototype.constructor=Hn,Zn.prototype.clear=function(){this.__data__=$n?$n(null):{},this.size=0},Zn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Zn.prototype.get=function(t){var e=this.__data__;if($n){var n=e[t];return n===a?i:n}return Mt.call(e,t)?e[t]:i},Zn.prototype.has=function(t){var e=this.__data__;return $n?e[t]!==i:Mt.call(e,t)},Zn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$n&&e===i?a:e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Vt.call(e,n,1),--this.size,!0)},Gn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?i:e[n][1]},Gn.prototype.has=function(t){return rr(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Jn.prototype.clear=function(){this.size=0,this.__data__={hash:new Zn,map:new(Sn||Gn),string:new Zn}},Jn.prototype.delete=function(t){var e=lo(this,t).delete(t);return this.size-=e?1:0,e},Jn.prototype.get=function(t){return lo(this,t).get(t)},Jn.prototype.has=function(t){return lo(this,t).has(t)},Jn.prototype.set=function(t,e){var n=lo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(t){return this.__data__.set(t,a),this},Yn.prototype.has=function(t){return this.__data__.has(t)},Vn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Vn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Vn.prototype.get=function(t){return this.__data__.get(t)},Vn.prototype.has=function(t){return this.__data__.has(t)},Vn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Sn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jn(r)}return n.set(t,e),this.size=n.size,this};var pr=Oi(wr),hr=Oi(zr,!0);function gr(t,e){var n=!0;return pr(t,function(t,r,i){return n=!!e(t,r,i)}),n}function mr(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],u=e(a);if(null!=u&&(c===i?u==u&&!su(u):n(u,c)))var c=u,s=a}return s}function vr(t,e){var n=[];return pr(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function br(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=yo),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?br(u,e-1,n,r,i):Me(i,u):r||(i[i.length]=u)}return i}var yr=ji(),_r=ji(!0);function wr(t,e){return t&&yr(t,e,Ru)}function zr(t,e){return t&&_r(t,e,Ru)}function kr(t,e){return Re(e,function(e){return Qa(t[e])})}function Cr(t,e){for(var n=0,r=(e=_i(e,t)).length;null!=t&&n<r;)t=t[qo(e[n++])];return n&&n==r?t:i}function xr(t,e,n){var r=e(t);return Ha(t)?r:Me(r,n(t))}function Sr(t){return null==t?t===i?"[object Undefined]":"[object Null]":Xt&&Xt in Tt(t)?function(t){var e=Mt.call(t,Xt),n=t[Xt];try{t[Xt]=i;var r=!0}catch(t){}var o=It.call(t);r&&(e?t[Xt]=n:delete t[Xt]);return o}(t):function(t){return It.call(t)}(t)}function Tr(t,e){return t>e}function Er(t,e){return null!=t&&Mt.call(t,e)}function Ar(t,e){return null!=t&&e in Tt(t)}function $r(t,e,n){for(var o=n?Oe:Ne,a=t[0].length,u=t.length,c=u,s=r(u),l=1/0,f=[];c--;){var d=t[c];c&&e&&(d=je(d,Xe(e))),l=_n(d.length,l),s[c]=!n&&(e||a>=120&&d.length>=120)?new Yn(c&&d):i}d=t[0];var p=-1,h=s[0];t:for(;++p<a&&f.length<l;){var g=d[p],m=e?e(g):g;if(g=n||0!==g?g:0,!(h?en(h,m):o(f,m,n))){for(c=u;--c;){var v=s[c];if(!(v?en(v,m):o(t[c],m,n)))continue t}h&&h.push(m),f.push(g)}}return f}function Lr(t,e,n){var r=null==(t=Ao(t,e=_i(e,t)))?t:t[qo(Ko(e))];return null==r?i:Te(r,t,n)}function Rr(t){return nu(t)&&Sr(t)==b}function Nr(t,e,n,r,o){return t===e||(null==t||null==e||!nu(t)&&!nu(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var u=Ha(t),c=Ha(e),s=u?y:mo(t),l=c?y:mo(e),f=(s=s==b?T:s)==T,d=(l=l==b?T:l)==T,p=s==l;if(p&&Ya(t)){if(!Ya(e))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new Vn),u||lu(t)?no(t,e,n,r,o,a):function(t,e,n,r,i,o,a){switch(n){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case _:case w:case S:return Pa(+t,+e);case z:return t.name==e.name&&t.message==e.message;case A:case L:return t==e+"";case x:var u=sn;case $:var c=1&r;if(u||(u=dn),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var l=no(u(t),u(e),r,i,o,a);return a.delete(t),l;case R:if(In)return In.call(t)==In.call(e)}return!1}(t,e,s,n,r,o,a);if(!(1&n)){var h=f&&Mt.call(t,"__wrapped__"),g=d&&Mt.call(e,"__wrapped__");if(h||g){var m=h?t.value():t,v=g?e.value():e;return a||(a=new Vn),o(m,v,n,r,a)}}if(!p)return!1;return a||(a=new Vn),function(t,e,n,r,o,a){var u=1&n,c=io(t),s=c.length,l=io(e),f=l.length;if(s!=f&&!u)return!1;var d=s;for(;d--;){var p=c[d];if(!(u?p in e:Mt.call(e,p)))return!1}var h=a.get(t),g=a.get(e);if(h&&g)return h==e&&g==t;var m=!0;a.set(t,e),a.set(e,t);var v=u;for(;++d<s;){var b=t[p=c[d]],y=e[p];if(r)var _=u?r(y,b,p,e,t,a):r(b,y,p,t,e,a);if(!(_===i?b===y||o(b,y,n,r,a):_)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var w=t.constructor,z=e.constructor;w==z||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof z&&z instanceof z||(m=!1)}return a.delete(t),a.delete(e),m}(t,e,n,r,o,a)}(t,e,n,r,Nr,o))}function Or(t,e,n,r){var o=n.length,a=o,u=!r;if(null==t)return!a;for(t=Tt(t);o--;){var c=n[o];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<a;){var s=(c=n[o])[0],l=t[s],f=c[1];if(u&&c[2]){if(l===i&&!(s in t))return!1}else{var d=new Vn;if(r)var p=r(l,f,s,t,e,d);if(!(p===i?Nr(f,l,3,r,d):p))return!1}}return!0}function jr(t){return!(!eu(t)||(e=t,qt&&qt in e))&&(Qa(t)?Bt:bt).test(Io(t));var e}function Mr(t){return"function"==typeof t?t:null==t?ic:"object"==typeof t?Ha(t)?Br(t[0],t[1]):Pr(t):pc(t)}function Ur(t){if(!xo(t))return Je(t);var e=[];for(var n in Tt(t))Mt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function qr(t){if(!eu(t))return function(t){var e=[];if(null!=t)for(var n in Tt(t))e.push(n);return e}(t);var e=xo(t),n=[];for(var r in t)("constructor"!=r||!e&&Mt.call(t,r))&&n.push(r);return n}function Ir(t,e){return t<e}function Dr(t,e){var n=-1,i=Ga(t)?r(t.length):[];return pr(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Pr(t){var e=fo(t);return 1==e.length&&e[0][2]?To(e[0][0],e[0][1]):function(n){return n===t||Or(n,t,e)}}function Br(t,e){return zo(t)&&So(e)?To(qo(t),e):function(n){var r=Tu(n,t);return r===i&&r===e?Eu(n,t):Nr(e,r,3)}}function Fr(t,e,n,r,o){t!==e&&yr(e,function(a,u){if(o||(o=new Vn),eu(a))!function(t,e,n,r,o,a,u){var c=$o(t,n),s=$o(e,n),l=u.get(s);if(l)return void er(t,n,l);var f=a?a(c,s,n+"",t,e,u):i,d=f===i;if(d){var p=Ha(s),h=!p&&Ya(s),g=!p&&!h&&lu(s);f=s,p||h||g?Ha(c)?f=c:Ja(c)?f=$i(c):h?(d=!1,f=Ci(s,!0)):g?(d=!1,f=Si(s,!0)):f=[]:ou(s)||Wa(s)?(f=c,Wa(c)?f=bu(c):eu(c)&&!Qa(c)||(f=bo(s))):d=!1}d&&(u.set(s,f),o(f,s,r,a,u),u.delete(s));er(t,n,f)}(t,e,u,n,Fr,r,o);else{var c=r?r($o(t,u),a,u+"",t,e,o):i;c===i&&(c=a),er(t,u,c)}},Nu)}function Wr(t,e){var n=t.length;if(n)return _o(e+=e<0?n:0,n)?t[e]:i}function Hr(t,e,n){e=e.length?je(e,function(t){return Ha(t)?function(e){return Cr(e,1===t.length?t[0]:t)}:t}):[ic];var r=-1;e=je(e,Xe(so()));var i=Dr(t,function(t,n,i){var o=je(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var c=Ti(i[r],o[r]);if(c)return r>=u?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)})}function Zr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Cr(t,a);n(u,a)&&ti(o,_i(a,t),u)}return o}function Gr(t,e,n,r){var i=r?We:Fe,o=-1,a=e.length,u=t;for(t===e&&(e=$i(e)),n&&(u=je(t,Xe(n)));++o<a;)for(var c=0,s=e[o],l=n?n(s):s;(c=i(u,l,c,r))>-1;)u!==t&&Vt.call(u,c,1),Vt.call(t,c,1);return t}function Jr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;_o(i)?Vt.call(t,i,1):di(t,i)}}return t}function Yr(t,e){return t+me(kn()*(e-t+1))}function Vr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=me(e/2))&&(t+=t)}while(e);return n}function Kr(t,e){return No(Eo(t,e,ic),t+"")}function Qr(t){return Qn(Pu(t))}function Xr(t,e){var n=Pu(t);return Mo(n,cr(e,0,n.length))}function ti(t,e,n,r){if(!eu(t))return t;for(var o=-1,a=(e=_i(e,t)).length,u=a-1,c=t;null!=c&&++o<a;){var s=qo(e[o]),l=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(o!=u){var f=c[s];(l=r?r(f,s,c):i)===i&&(l=eu(f)?f:_o(e[o+1])?[]:{})}nr(c,s,l),c=c[s]}return t}var ei=Ln?function(t,e){return Ln.set(t,e),t}:ic,ni=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:ec(e),writable:!0})}:ic;function ri(t){return Mo(Pu(t))}function ii(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function oi(t,e){var n;return pr(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!su(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ui(t,e,ic,n)}function ui(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var u=(e=n(e))!=e,c=null===e,s=su(e),l=e===i;o<a;){var f=me((o+a)/2),d=n(t[f]),p=d!==i,h=null===d,g=d==d,m=su(d);if(u)var v=r||g;else v=l?g&&(r||p):c?g&&p&&(r||!h):s?g&&p&&!h&&(r||!m):!h&&!m&&(r?d<=e:d<e);v?o=f+1:a=f}return _n(a,4294967294)}function ci(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Pa(u,c)){var c=u;o[i++]=0===a?0:a}}return o}function si(t){return"number"==typeof t?t:su(t)?g:+t}function li(t){if("string"==typeof t)return t;if(Ha(t))return je(t,li)+"";if(su(t))return Dn?Dn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fi(t,e,n){var r=-1,i=Ne,o=t.length,a=!0,u=[],c=u;if(n)a=!1,i=Oe;else if(o>=200){var s=e?null:Vi(t);if(s)return dn(s);a=!1,i=en,c=new Yn}else c=e?[]:u;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue t;e&&c.push(f),u.push(l)}else i(c,f,n)||(c!==u&&c.push(f),u.push(l))}return u}function di(t,e){return null==(t=Ao(t,e=_i(e,t)))||delete t[qo(Ko(e))]}function pi(t,e,n,r){return ti(t,e,n(Cr(t,e)),r)}function hi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function gi(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Ue(e,function(t,e){return e.func.apply(e.thisArg,Me([t],e.args))},n)}function mi(t,e,n){var i=t.length;if(i<2)return i?fi(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],c=-1;++c<i;)c!=o&&(a[o]=dr(a[o]||u,t[c],e,n));return fi(br(a,1),e,n)}function vi(t,e,n){for(var r=-1,o=t.length,a=e.length,u={};++r<o;){var c=r<a?e[r]:i;n(u,t[r],c)}return u}function bi(t){return Ja(t)?t:[]}function yi(t){return"function"==typeof t?t:ic}function _i(t,e){return Ha(t)?t:zo(t,e)?[t]:Uo(yu(t))}var wi=Kr;function zi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ii(t,e,n)}var ki=ie||function(t){return ge.clearTimeout(t)};function Ci(t,e){if(e)return t.slice();var n=t.length,r=Zt?Zt(n):new t.constructor(n);return t.copy(r),r}function xi(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Si(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ti(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,a=su(t),u=e!==i,c=null===e,s=e==e,l=su(e);if(!c&&!l&&!a&&t>e||a&&u&&s&&!c&&!l||r&&u&&s||!n&&s||!o)return 1;if(!r&&!a&&!l&&t<e||l&&n&&o&&!r&&!a||c&&n&&o||!u&&o||!s)return-1}return 0}function Ei(t,e,n,i){for(var o=-1,a=t.length,u=n.length,c=-1,s=e.length,l=yn(a-u,0),f=r(s+l),d=!i;++c<s;)f[c]=e[c];for(;++o<u;)(d||o<a)&&(f[n[o]]=t[o]);for(;l--;)f[c++]=t[o++];return f}function Ai(t,e,n,i){for(var o=-1,a=t.length,u=-1,c=n.length,s=-1,l=e.length,f=yn(a-c,0),d=r(f+l),p=!i;++o<f;)d[o]=t[o];for(var h=o;++s<l;)d[h+s]=e[s];for(;++u<c;)(p||o<a)&&(d[h+n[u]]=t[o++]);return d}function $i(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Li(t,e,n,r){var o=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var c=e[a],s=r?r(n[c],t[c],c,n,t):i;s===i&&(s=t[c]),o?ar(n,c,s):nr(n,c,s)}return n}function Ri(t,e){return function(n,r){var i=Ha(n)?Ee:ir,o=e?e():{};return i(n,t,so(r,2),o)}}function Ni(t){return Kr(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,u=o>2?n[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,u&&wo(n[0],n[1],u)&&(a=o<3?i:a,o=1),e=Tt(e);++r<o;){var c=n[r];c&&t(e,c,r,a)}return e})}function Oi(t,e){return function(n,r){if(null==n)return n;if(!Ga(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Tt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function ji(t){return function(e,n,r){for(var i=-1,o=Tt(e),a=r(e),u=a.length;u--;){var c=a[t?u:++i];if(!1===n(o[c],c,o))break}return e}}function Mi(t){return function(e){var n=cn(e=yu(e))?gn(e):i,r=n?n[0]:e.charAt(0),o=n?zi(n,1).join(""):e.slice(1);return r[t]()+o}}function Ui(t){return function(e){return Ue(Qu(Wu(e).replace(te,"")),t,"")}}function qi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Bn(t.prototype),r=t.apply(n,e);return eu(r)?r:n}}function Ii(t){return function(e,n,r){var o=Tt(e);if(!Ga(e)){var a=so(n,3);e=Ru(e),n=function(t){return a(o[t],t,o)}}var u=t(e,n,r);return u>-1?o[a?e[u]:u]:i}}function Di(t){return ro(function(e){var n=e.length,r=n,a=Wn.prototype.thru;for(t&&e.reverse();r--;){var u=e[r];if("function"!=typeof u)throw new $t(o);if(a&&!c&&"wrapper"==uo(u))var c=new Wn([],!0)}for(r=c?r:n;++r<n;){var s=uo(u=e[r]),l="wrapper"==s?ao(u):i;c=l&&ko(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[uo(l[0])].apply(c,l[3]):1==u.length&&ko(u)?c[s]():c.thru(u)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&Ha(r))return c.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Pi(t,e,n,o,a,u,c,s,l,d){var p=e&f,h=1&e,g=2&e,m=24&e,v=512&e,b=g?i:qi(t);return function f(){for(var y=arguments.length,_=r(y),w=y;w--;)_[w]=arguments[w];if(m)var z=co(f),k=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,z);if(o&&(_=Ei(_,o,a,m)),u&&(_=Ai(_,u,c,m)),y-=k,m&&y<d){var C=fn(_,z);return Ji(t,e,Pi,f.placeholder,n,_,C,s,l,d-y)}var x=h?n:this,S=g?x[t]:t;return y=_.length,s?_=function(t,e){var n=t.length,r=_n(e.length,n),o=$i(t);for(;r--;){var a=e[r];t[r]=_o(a,n)?o[a]:i}return t}(_,s):v&&y>1&&_.reverse(),p&&l<y&&(_.length=l),this&&this!==ge&&this instanceof f&&(S=b||qi(S)),S.apply(x,_)}}function Bi(t,e){return function(n,r){return function(t,e,n,r){return wr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function Fi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=si(n),r=si(r)),o=t(n,r)}return o}}function Wi(t){return ro(function(e){return e=je(e,Xe(so())),Kr(function(n){var r=this;return t(e,function(t){return Te(t,r,n)})})})}function Hi(t,e){var n=(e=e===i?" ":li(e)).length;if(n<2)return n?Vr(e,t):e;var r=Vr(e,he(t/hn(e)));return cn(e)?zi(gn(r),0,t).join(""):r.slice(0,t)}function Zi(t){return function(e,n,o){return o&&"number"!=typeof o&&wo(e,n,o)&&(n=o=i),e=hu(e),n===i?(n=e,e=0):n=hu(n),function(t,e,n,i){for(var o=-1,a=yn(he((e-t)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=n;return u}(e,n,o=o===i?e<n?1:-1:hu(o),t)}}function Gi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=vu(e),n=vu(n)),t(e,n)}}function Ji(t,e,n,r,o,a,u,c,f,d){var p=8&e;e|=p?s:l,4&(e&=~(p?l:s))||(e&=-4);var h=[t,e,o,p?a:i,p?u:i,p?i:a,p?i:u,c,f,d],g=n.apply(i,h);return ko(t)&&Lo(g,h),g.placeholder=r,Oo(g,t,e)}function Yi(t){var e=St[t];return function(t,n){if(t=vu(t),(n=null==n?0:_n(gu(n),292))&&_e(t)){var r=(yu(t)+"e").split("e");return+((r=(yu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Vi=En&&1/dn(new En([,-0]))[1]==p?function(t){return new En(t)}:sc;function Ki(t){return function(e){var n=mo(e);return n==x?sn(e):n==$?pn(e):function(t,e){return je(e,function(e){return[e,t[e]]})}(e,t(e))}}function Qi(t,e,n,a,p,h,g,m){var v=2&e;if(!v&&"function"!=typeof t)throw new $t(o);var b=a?a.length:0;if(b||(e&=-97,a=p=i),g=g===i?g:yn(gu(g),0),m=m===i?m:gu(m),b-=p?p.length:0,e&l){var y=a,_=p;a=p=i}var w=v?i:ao(t),z=[t,e,n,a,p,y,_,h,g,m];if(w&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==d&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var s=t[3];t[3]=s?Ei(s,c,e[4]):c,t[4]=s?fn(t[3],u):e[4]}(c=e[5])&&(s=t[5],t[5]=s?Ai(s,c,e[6]):c,t[6]=s?fn(t[5],u):e[6]);(c=e[7])&&(t[7]=c);r&f&&(t[8]=null==t[8]?e[8]:_n(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(z,w),t=z[0],e=z[1],n=z[2],a=z[3],p=z[4],!(m=z[9]=z[9]===i?v?0:t.length:yn(z[9]-b,0))&&24&e&&(e&=-25),e&&1!=e)k=8==e||e==c?function(t,e,n){var o=qi(t);return function a(){for(var u=arguments.length,c=r(u),s=u,l=co(a);s--;)c[s]=arguments[s];var f=u<3&&c[0]!==l&&c[u-1]!==l?[]:fn(c,l);return(u-=f.length)<n?Ji(t,e,Pi,a.placeholder,i,c,f,i,i,n-u):Te(this&&this!==ge&&this instanceof a?o:t,this,c)}}(t,e,m):e!=s&&33!=e||p.length?Pi.apply(i,z):function(t,e,n,i){var o=1&e,a=qi(t);return function e(){for(var u=-1,c=arguments.length,s=-1,l=i.length,f=r(l+c),d=this&&this!==ge&&this instanceof e?a:t;++s<l;)f[s]=i[s];for(;c--;)f[s++]=arguments[++u];return Te(d,o?n:this,f)}}(t,e,n,a);else var k=function(t,e,n){var r=1&e,i=qi(t);return function e(){return(this&&this!==ge&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Oo((w?ei:Lo)(k,z),t,e)}function Xi(t,e,n,r){return t===i||Pa(t,Nt[n])&&!Mt.call(r,n)?e:t}function to(t,e,n,r,o,a){return eu(t)&&eu(e)&&(a.set(e,t),Fr(t,e,i,to,a),a.delete(e)),t}function eo(t){return ou(t)?i:t}function no(t,e,n,r,o,a){var u=1&n,c=t.length,s=e.length;if(c!=s&&!(u&&s>c))return!1;var l=a.get(t),f=a.get(e);if(l&&f)return l==e&&f==t;var d=-1,p=!0,h=2&n?new Yn:i;for(a.set(t,e),a.set(e,t);++d<c;){var g=t[d],m=e[d];if(r)var v=u?r(m,g,d,e,t,a):r(g,m,d,t,e,a);if(v!==i){if(v)continue;p=!1;break}if(h){if(!Ie(e,function(t,e){if(!en(h,e)&&(g===t||o(g,t,n,r,a)))return h.push(e)})){p=!1;break}}else if(g!==m&&!o(g,m,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function ro(t){return No(Eo(t,i,Zo),t+"")}function io(t){return xr(t,Ru,ho)}function oo(t){return xr(t,Nu,go)}var ao=Ln?function(t){return Ln.get(t)}:sc;function uo(t){for(var e=t.name+"",n=Rn[e],r=Mt.call(Rn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function co(t){return(Mt.call(Pn,"placeholder")?Pn:t).placeholder}function so(){var t=Pn.iteratee||oc;return t=t===oc?Mr:t,arguments.length?t(arguments[0],arguments[1]):t}function lo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function fo(t){for(var e=Ru(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,So(i)]}return e}function po(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return jr(n)?n:i}var ho=ve?function(t){return null==t?[]:(t=Tt(t),Re(ve(t),function(e){return Yt.call(t,e)}))}:mc,go=ve?function(t){for(var e=[];t;)Me(e,ho(t)),t=Gt(t);return e}:mc,mo=Sr;function vo(t,e,n){for(var r=-1,i=(e=_i(e,t)).length,o=!1;++r<i;){var a=qo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&tu(i)&&_o(a,i)&&(Ha(t)||Wa(t))}function bo(t){return"function"!=typeof t.constructor||xo(t)?{}:Bn(Gt(t))}function yo(t){return Ha(t)||Wa(t)||!!(Kt&&t&&t[Kt])}function _o(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&_t.test(t))&&t>-1&&t%1==0&&t<e}function wo(t,e,n){if(!eu(n))return!1;var r=typeof e;return!!("number"==r?Ga(n)&&_o(e,n.length):"string"==r&&e in n)&&Pa(n[e],t)}function zo(t,e){if(Ha(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!su(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Tt(e))}function ko(t){var e=uo(t),n=Pn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=ao(n);return!!r&&t===r[0]}(xn&&mo(new xn(new ArrayBuffer(1)))!=j||Sn&&mo(new Sn)!=x||Tn&&mo(Tn.resolve())!=E||En&&mo(new En)!=$||An&&mo(new An)!=N)&&(mo=function(t){var e=Sr(t),n=e==T?t.constructor:i,r=n?Io(n):"";if(r)switch(r){case Nn:return j;case On:return x;case jn:return E;case Mn:return $;case Un:return N}return e});var Co=Ot?Qa:vc;function xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Nt)}function So(t){return t==t&&!eu(t)}function To(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in Tt(n)))}}function Eo(t,e,n){return e=yn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=yn(i.length-e,0),u=r(a);++o<a;)u[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(u),Te(t,this,c)}}function Ao(t,e){return e.length<2?t:Cr(t,ii(e,0,-1))}function $o(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Lo=jo(ei),Ro=pe||function(t,e){return ge.setTimeout(t,e)},No=jo(ni);function Oo(t,e,n){var r=e+"";return No(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ct,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ae(v,function(n){var r="_."+n[0];e&n[1]&&!Ne(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(lt):[]}(r),n)))}function jo(t){var e=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Mo(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var a=Yr(n,o),u=t[a];t[a]=t[n],t[n]=u}return t.length=e,t}var Uo=function(t){var e=ja(t,function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,function(t,n,r,i){e.push(r?i.replace(pt,"$1"):n||t)}),e});function qo(t){if("string"==typeof t||su(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Io(t){if(null!=t){try{return jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Do(t){if(t instanceof Hn)return t.clone();var e=new Wn(t.__wrapped__,t.__chain__);return e.__actions__=$i(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Po=Kr(function(t,e){return Ja(t)?dr(t,br(e,1,Ja,!0)):[]}),Bo=Kr(function(t,e){var n=Ko(e);return Ja(n)&&(n=i),Ja(t)?dr(t,br(e,1,Ja,!0),so(n,2)):[]}),Fo=Kr(function(t,e){var n=Ko(e);return Ja(n)&&(n=i),Ja(t)?dr(t,br(e,1,Ja,!0),i,n):[]});function Wo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:gu(n);return i<0&&(i=yn(r+i,0)),Be(t,so(e,3),i)}function Ho(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gu(n),o=n<0?yn(r+o,0):_n(o,r-1)),Be(t,so(e,3),o,!0)}function Zo(t){return(null==t?0:t.length)?br(t,1):[]}function Go(t){return t&&t.length?t[0]:i}var Jo=Kr(function(t){var e=je(t,bi);return e.length&&e[0]===t[0]?$r(e):[]}),Yo=Kr(function(t){var e=Ko(t),n=je(t,bi);return e===Ko(n)?e=i:n.pop(),n.length&&n[0]===t[0]?$r(n,so(e,2)):[]}),Vo=Kr(function(t){var e=Ko(t),n=je(t,bi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?$r(n,i,e):[]});function Ko(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Qo=Kr(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?Gr(t,e):t}var ta=ro(function(t,e){var n=null==t?0:t.length,r=ur(t,e);return Jr(t,je(e,function(t){return _o(t,n)?+t:t}).sort(Ti)),r});function ea(t){return null==t?t:Cn.call(t)}var na=Kr(function(t){return fi(br(t,1,Ja,!0))}),ra=Kr(function(t){var e=Ko(t);return Ja(e)&&(e=i),fi(br(t,1,Ja,!0),so(e,2))}),ia=Kr(function(t){var e=Ko(t);return e="function"==typeof e?e:i,fi(br(t,1,Ja,!0),i,e)});function oa(t){if(!t||!t.length)return[];var e=0;return t=Re(t,function(t){if(Ja(t))return e=yn(t.length,e),!0}),Ke(e,function(e){return je(t,Ge(e))})}function aa(t,e){if(!t||!t.length)return[];var n=oa(t);return null==e?n:je(n,function(t){return Te(e,i,t)})}var ua=Kr(function(t,e){return Ja(t)?dr(t,e):[]}),ca=Kr(function(t){return mi(Re(t,Ja))}),sa=Kr(function(t){var e=Ko(t);return Ja(e)&&(e=i),mi(Re(t,Ja),so(e,2))}),la=Kr(function(t){var e=Ko(t);return e="function"==typeof e?e:i,mi(Re(t,Ja),i,e)}),fa=Kr(oa);var da=Kr(function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,aa(t,n)});function pa(t){var e=Pn(t);return e.__chain__=!0,e}function ha(t,e){return e(t)}var ga=ro(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return ur(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&_o(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ha,args:[o],thisArg:i}),new Wn(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(i),t})):this.thru(o)});var ma=Ri(function(t,e,n){Mt.call(t,n)?++t[n]:ar(t,n,1)});var va=Ii(Wo),ba=Ii(Ho);function ya(t,e){return(Ha(t)?Ae:pr)(t,so(e,3))}function _a(t,e){return(Ha(t)?$e:hr)(t,so(e,3))}var wa=Ri(function(t,e,n){Mt.call(t,n)?t[n].push(e):ar(t,n,[e])});var za=Kr(function(t,e,n){var i=-1,o="function"==typeof e,a=Ga(t)?r(t.length):[];return pr(t,function(t){a[++i]=o?Te(e,t,n):Lr(t,e,n)}),a}),ka=Ri(function(t,e,n){ar(t,n,e)});function Ca(t,e){return(Ha(t)?je:Dr)(t,so(e,3))}var xa=Ri(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Sa=Kr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&wo(t,e[0],e[1])?e=[]:n>2&&wo(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,br(e,1),[])}),Ta=le||function(){return ge.Date.now()};function Ea(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Qi(t,f,i,i,i,i,e)}function Aa(t,e){var n;if("function"!=typeof e)throw new $t(o);return t=gu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var $a=Kr(function(t,e,n){var r=1;if(n.length){var i=fn(n,co($a));r|=s}return Qi(t,r,e,n,i)}),La=Kr(function(t,e,n){var r=3;if(n.length){var i=fn(n,co(La));r|=s}return Qi(e,r,t,n,i)});function Ra(t,e,n){var r,a,u,c,s,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof t)throw new $t(o);function g(e){var n=r,o=a;return r=a=i,f=e,c=t.apply(o,n)}function m(t){var n=t-l;return l===i||n>=e||n<0||p&&t-f>=u}function v(){var t=Ta();if(m(t))return b(t);s=Ro(v,function(t){var n=e-(t-l);return p?_n(n,u-(t-f)):n}(t))}function b(t){return s=i,h&&r?g(t):(r=a=i,c)}function y(){var t=Ta(),n=m(t);if(r=arguments,a=this,l=t,n){if(s===i)return function(t){return f=t,s=Ro(v,e),d?g(t):c}(l);if(p)return ki(s),s=Ro(v,e),g(l)}return s===i&&(s=Ro(v,e)),c}return e=vu(e)||0,eu(n)&&(d=!!n.leading,u=(p="maxWait"in n)?yn(vu(n.maxWait)||0,e):u,h="trailing"in n?!!n.trailing:h),y.cancel=function(){s!==i&&ki(s),f=0,r=l=a=s=i},y.flush=function(){return s===i?c:b(Ta())},y}var Na=Kr(function(t,e){return fr(t,1,e)}),Oa=Kr(function(t,e,n){return fr(t,vu(e)||0,n)});function ja(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new $t(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ja.Cache||Jn),n}function Ma(t){if("function"!=typeof t)throw new $t(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ja.Cache=Jn;var Ua=wi(function(t,e){var n=(e=1==e.length&&Ha(e[0])?je(e[0],Xe(so())):je(br(e,1),Xe(so()))).length;return Kr(function(r){for(var i=-1,o=_n(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Te(t,this,r)})}),qa=Kr(function(t,e){var n=fn(e,co(qa));return Qi(t,s,i,e,n)}),Ia=Kr(function(t,e){var n=fn(e,co(Ia));return Qi(t,l,i,e,n)}),Da=ro(function(t,e){return Qi(t,d,i,i,i,e)});function Pa(t,e){return t===e||t!=t&&e!=e}var Ba=Gi(Tr),Fa=Gi(function(t,e){return t>=e}),Wa=Rr(function(){return arguments}())?Rr:function(t){return nu(t)&&Mt.call(t,"callee")&&!Yt.call(t,"callee")},Ha=r.isArray,Za=we?Xe(we):function(t){return nu(t)&&Sr(t)==O};function Ga(t){return null!=t&&tu(t.length)&&!Qa(t)}function Ja(t){return nu(t)&&Ga(t)}var Ya=ye||vc,Va=ze?Xe(ze):function(t){return nu(t)&&Sr(t)==w};function Ka(t){if(!nu(t))return!1;var e=Sr(t);return e==z||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ou(t)}function Qa(t){if(!eu(t))return!1;var e=Sr(t);return e==k||e==C||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xa(t){return"number"==typeof t&&t==gu(t)}function tu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function eu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function nu(t){return null!=t&&"object"==typeof t}var ru=ke?Xe(ke):function(t){return nu(t)&&mo(t)==x};function iu(t){return"number"==typeof t||nu(t)&&Sr(t)==S}function ou(t){if(!nu(t)||Sr(t)!=T)return!1;var e=Gt(t);if(null===e)return!0;var n=Mt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&jt.call(n)==Dt}var au=Ce?Xe(Ce):function(t){return nu(t)&&Sr(t)==A};var uu=xe?Xe(xe):function(t){return nu(t)&&mo(t)==$};function cu(t){return"string"==typeof t||!Ha(t)&&nu(t)&&Sr(t)==L}function su(t){return"symbol"==typeof t||nu(t)&&Sr(t)==R}var lu=Se?Xe(Se):function(t){return nu(t)&&tu(t.length)&&!!ce[Sr(t)]};var fu=Gi(Ir),du=Gi(function(t,e){return t<=e});function pu(t){if(!t)return[];if(Ga(t))return cu(t)?gn(t):$i(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=mo(t);return(e==x?sn:e==$?dn:Pu)(t)}function hu(t){return t?(t=vu(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function gu(t){var e=hu(t),n=e%1;return e==e?n?e-n:e:0}function mu(t){return t?cr(gu(t),0,m):0}function vu(t){if("number"==typeof t)return t;if(su(t))return g;if(eu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=eu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Qe(t);var n=vt.test(t);return n||yt.test(t)?de(t.slice(2),n?2:8):mt.test(t)?g:+t}function bu(t){return Li(t,Nu(t))}function yu(t){return null==t?"":li(t)}var _u=Ni(function(t,e){if(xo(e)||Ga(e))Li(e,Ru(e),t);else for(var n in e)Mt.call(e,n)&&nr(t,n,e[n])}),wu=Ni(function(t,e){Li(e,Nu(e),t)}),zu=Ni(function(t,e,n,r){Li(e,Nu(e),t,r)}),ku=Ni(function(t,e,n,r){Li(e,Ru(e),t,r)}),Cu=ro(ur);var xu=Kr(function(t,e){t=Tt(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&wo(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],u=Nu(a),c=-1,s=u.length;++c<s;){var l=u[c],f=t[l];(f===i||Pa(f,Nt[l])&&!Mt.call(t,l))&&(t[l]=a[l])}return t}),Su=Kr(function(t){return t.push(i,to),Te(ju,i,t)});function Tu(t,e,n){var r=null==t?i:Cr(t,e);return r===i?n:r}function Eu(t,e){return null!=t&&vo(t,e,Ar)}var Au=Bi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=It.call(e)),t[e]=n},ec(ic)),$u=Bi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=It.call(e)),Mt.call(t,e)?t[e].push(n):t[e]=[n]},so),Lu=Kr(Lr);function Ru(t){return Ga(t)?Kn(t):Ur(t)}function Nu(t){return Ga(t)?Kn(t,!0):qr(t)}var Ou=Ni(function(t,e,n){Fr(t,e,n)}),ju=Ni(function(t,e,n,r){Fr(t,e,n,r)}),Mu=ro(function(t,e){var n={};if(null==t)return n;var r=!1;e=je(e,function(e){return e=_i(e,t),r||(r=e.length>1),e}),Li(t,oo(t),n),r&&(n=sr(n,7,eo));for(var i=e.length;i--;)di(n,e[i]);return n});var Uu=ro(function(t,e){return null==t?{}:function(t,e){return Zr(t,e,function(e,n){return Eu(t,n)})}(t,e)});function qu(t,e){if(null==t)return{};var n=je(oo(t),function(t){return[t]});return e=so(e),Zr(t,n,function(t,n){return e(t,n[0])})}var Iu=Ki(Ru),Du=Ki(Nu);function Pu(t){return null==t?[]:tn(t,Ru(t))}var Bu=Ui(function(t,e,n){return e=e.toLowerCase(),t+(n?Fu(e):e)});function Fu(t){return Ku(yu(t).toLowerCase())}function Wu(t){return(t=yu(t))&&t.replace(wt,on).replace(ee,"")}var Hu=Ui(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Zu=Ui(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Gu=Mi("toLowerCase");var Ju=Ui(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var Yu=Ui(function(t,e,n){return t+(n?" ":"")+Ku(e)});var Vu=Ui(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ku=Mi("toUpperCase");function Qu(t,e,n){return t=yu(t),(e=n?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var Xu=Kr(function(t,e){try{return Te(t,i,e)}catch(t){return Ka(t)?t:new Ct(t)}}),tc=ro(function(t,e){return Ae(e,function(e){e=qo(e),ar(t,e,$a(t[e],t))}),t});function ec(t){return function(){return t}}var nc=Di(),rc=Di(!0);function ic(t){return t}function oc(t){return Mr("function"==typeof t?t:sr(t,1))}var ac=Kr(function(t,e){return function(n){return Lr(n,t,e)}}),uc=Kr(function(t,e){return function(n){return Lr(t,n,e)}});function cc(t,e,n){var r=Ru(e),i=kr(e,r);null!=n||eu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=kr(e,Ru(e)));var o=!(eu(n)&&"chain"in n&&!n.chain),a=Qa(t);return Ae(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=$i(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Me([this.value()],arguments))})}),t}function sc(){}var lc=Wi(je),fc=Wi(Le),dc=Wi(Ie);function pc(t){return zo(t)?Ge(qo(t)):function(t){return function(e){return Cr(e,t)}}(t)}var hc=Zi(),gc=Zi(!0);function mc(){return[]}function vc(){return!1}var bc=Fi(function(t,e){return t+e},0),yc=Yi("ceil"),_c=Fi(function(t,e){return t/e},1),wc=Yi("floor");var zc,kc=Fi(function(t,e){return t*e},1),Cc=Yi("round"),xc=Fi(function(t,e){return t-e},0);return Pn.after=function(t,e){if("function"!=typeof e)throw new $t(o);return t=gu(t),function(){if(--t<1)return e.apply(this,arguments)}},Pn.ary=Ea,Pn.assign=_u,Pn.assignIn=wu,Pn.assignInWith=zu,Pn.assignWith=ku,Pn.at=Cu,Pn.before=Aa,Pn.bind=$a,Pn.bindAll=tc,Pn.bindKey=La,Pn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ha(t)?t:[t]},Pn.chain=pa,Pn.chunk=function(t,e,n){e=(n?wo(t,e,n):e===i)?1:yn(gu(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,u=0,c=r(he(o/e));a<o;)c[u++]=ii(t,a,a+=e);return c},Pn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Pn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Me(Ha(n)?$i(n):[n],br(e,1))},Pn.cond=function(t){var e=null==t?0:t.length,n=so();return t=e?je(t,function(t){if("function"!=typeof t[1])throw new $t(o);return[n(t[0]),t[1]]}):[],Kr(function(n){for(var r=-1;++r<e;){var i=t[r];if(Te(i[0],this,n))return Te(i[1],this,n)}})},Pn.conforms=function(t){return function(t){var e=Ru(t);return function(n){return lr(n,t,e)}}(sr(t,1))},Pn.constant=ec,Pn.countBy=ma,Pn.create=function(t,e){var n=Bn(t);return null==e?n:or(n,e)},Pn.curry=function t(e,n,r){var o=Qi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Pn.curryRight=function t(e,n,r){var o=Qi(e,c,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Pn.debounce=Ra,Pn.defaults=xu,Pn.defaultsDeep=Su,Pn.defer=Na,Pn.delay=Oa,Pn.difference=Po,Pn.differenceBy=Bo,Pn.differenceWith=Fo,Pn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=n||e===i?1:gu(e))<0?0:e,r):[]},Pn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,0,(e=r-(e=n||e===i?1:gu(e)))<0?0:e):[]},Pn.dropRightWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!0,!0):[]},Pn.dropWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!0):[]},Pn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&wo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=gu(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gu(r))<0&&(r+=o),r=n>r?0:mu(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Pn.filter=function(t,e){return(Ha(t)?Re:vr)(t,so(e,3))},Pn.flatMap=function(t,e){return br(Ca(t,e),1)},Pn.flatMapDeep=function(t,e){return br(Ca(t,e),p)},Pn.flatMapDepth=function(t,e,n){return n=n===i?1:gu(n),br(Ca(t,e),n)},Pn.flatten=Zo,Pn.flattenDeep=function(t){return(null==t?0:t.length)?br(t,p):[]},Pn.flattenDepth=function(t,e){return(null==t?0:t.length)?br(t,e=e===i?1:gu(e)):[]},Pn.flip=function(t){return Qi(t,512)},Pn.flow=nc,Pn.flowRight=rc,Pn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Pn.functions=function(t){return null==t?[]:kr(t,Ru(t))},Pn.functionsIn=function(t){return null==t?[]:kr(t,Nu(t))},Pn.groupBy=wa,Pn.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},Pn.intersection=Jo,Pn.intersectionBy=Yo,Pn.intersectionWith=Vo,Pn.invert=Au,Pn.invertBy=$u,Pn.invokeMap=za,Pn.iteratee=oc,Pn.keyBy=ka,Pn.keys=Ru,Pn.keysIn=Nu,Pn.map=Ca,Pn.mapKeys=function(t,e){var n={};return e=so(e,3),wr(t,function(t,r,i){ar(n,e(t,r,i),t)}),n},Pn.mapValues=function(t,e){var n={};return e=so(e,3),wr(t,function(t,r,i){ar(n,r,e(t,r,i))}),n},Pn.matches=function(t){return Pr(sr(t,1))},Pn.matchesProperty=function(t,e){return Br(t,sr(e,1))},Pn.memoize=ja,Pn.merge=Ou,Pn.mergeWith=ju,Pn.method=ac,Pn.methodOf=uc,Pn.mixin=cc,Pn.negate=Ma,Pn.nthArg=function(t){return t=gu(t),Kr(function(e){return Wr(e,t)})},Pn.omit=Mu,Pn.omitBy=function(t,e){return qu(t,Ma(so(e)))},Pn.once=function(t){return Aa(2,t)},Pn.orderBy=function(t,e,n,r){return null==t?[]:(Ha(e)||(e=null==e?[]:[e]),Ha(n=r?i:n)||(n=null==n?[]:[n]),Hr(t,e,n))},Pn.over=lc,Pn.overArgs=Ua,Pn.overEvery=fc,Pn.overSome=dc,Pn.partial=qa,Pn.partialRight=Ia,Pn.partition=xa,Pn.pick=Uu,Pn.pickBy=qu,Pn.property=pc,Pn.propertyOf=function(t){return function(e){return null==t?i:Cr(t,e)}},Pn.pull=Qo,Pn.pullAll=Xo,Pn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,so(n,2)):t},Pn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,i,n):t},Pn.pullAt=ta,Pn.range=hc,Pn.rangeRight=gc,Pn.rearg=Da,Pn.reject=function(t,e){return(Ha(t)?Re:vr)(t,Ma(so(e,3)))},Pn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=so(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Jr(t,i),n},Pn.rest=function(t,e){if("function"!=typeof t)throw new $t(o);return Kr(t,e=e===i?e:gu(e))},Pn.reverse=ea,Pn.sampleSize=function(t,e,n){return e=(n?wo(t,e,n):e===i)?1:gu(e),(Ha(t)?Xn:Xr)(t,e)},Pn.set=function(t,e,n){return null==t?t:ti(t,e,n)},Pn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ti(t,e,n,r)},Pn.shuffle=function(t){return(Ha(t)?tr:ri)(t)},Pn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&wo(t,e,n)?(e=0,n=r):(e=null==e?0:gu(e),n=n===i?r:gu(n)),ii(t,e,n)):[]},Pn.sortBy=Sa,Pn.sortedUniq=function(t){return t&&t.length?ci(t):[]},Pn.sortedUniqBy=function(t,e){return t&&t.length?ci(t,so(e,2)):[]},Pn.split=function(t,e,n){return n&&"number"!=typeof n&&wo(t,e,n)&&(e=n=i),(n=n===i?m:n>>>0)?(t=yu(t))&&("string"==typeof e||null!=e&&!au(e))&&!(e=li(e))&&cn(t)?zi(gn(t),0,n):t.split(e,n):[]},Pn.spread=function(t,e){if("function"!=typeof t)throw new $t(o);return e=null==e?0:yn(gu(e),0),Kr(function(n){var r=n[e],i=zi(n,0,e);return r&&Me(i,r),Te(t,this,i)})},Pn.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},Pn.take=function(t,e,n){return t&&t.length?ii(t,0,(e=n||e===i?1:gu(e))<0?0:e):[]},Pn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=r-(e=n||e===i?1:gu(e)))<0?0:e,r):[]},Pn.takeRightWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!1,!0):[]},Pn.takeWhile=function(t,e){return t&&t.length?hi(t,so(e,3)):[]},Pn.tap=function(t,e){return e(t),t},Pn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new $t(o);return eu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ra(t,e,{leading:r,maxWait:e,trailing:i})},Pn.thru=ha,Pn.toArray=pu,Pn.toPairs=Iu,Pn.toPairsIn=Du,Pn.toPath=function(t){return Ha(t)?je(t,qo):su(t)?[t]:$i(Uo(yu(t)))},Pn.toPlainObject=bu,Pn.transform=function(t,e,n){var r=Ha(t),i=r||Ya(t)||lu(t);if(e=so(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:eu(t)&&Qa(o)?Bn(Gt(t)):{}}return(i?Ae:wr)(t,function(t,r,i){return e(n,t,r,i)}),n},Pn.unary=function(t){return Ea(t,1)},Pn.union=na,Pn.unionBy=ra,Pn.unionWith=ia,Pn.uniq=function(t){return t&&t.length?fi(t):[]},Pn.uniqBy=function(t,e){return t&&t.length?fi(t,so(e,2)):[]},Pn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?fi(t,i,e):[]},Pn.unset=function(t,e){return null==t||di(t,e)},Pn.unzip=oa,Pn.unzipWith=aa,Pn.update=function(t,e,n){return null==t?t:pi(t,e,yi(n))},Pn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:pi(t,e,yi(n),r)},Pn.values=Pu,Pn.valuesIn=function(t){return null==t?[]:tn(t,Nu(t))},Pn.without=ua,Pn.words=Qu,Pn.wrap=function(t,e){return qa(yi(e),t)},Pn.xor=ca,Pn.xorBy=sa,Pn.xorWith=la,Pn.zip=fa,Pn.zipObject=function(t,e){return vi(t||[],e||[],nr)},Pn.zipObjectDeep=function(t,e){return vi(t||[],e||[],ti)},Pn.zipWith=da,Pn.entries=Iu,Pn.entriesIn=Du,Pn.extend=wu,Pn.extendWith=zu,cc(Pn,Pn),Pn.add=bc,Pn.attempt=Xu,Pn.camelCase=Bu,Pn.capitalize=Fu,Pn.ceil=yc,Pn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=vu(n))==n?n:0),e!==i&&(e=(e=vu(e))==e?e:0),cr(vu(t),e,n)},Pn.clone=function(t){return sr(t,4)},Pn.cloneDeep=function(t){return sr(t,5)},Pn.cloneDeepWith=function(t,e){return sr(t,5,e="function"==typeof e?e:i)},Pn.cloneWith=function(t,e){return sr(t,4,e="function"==typeof e?e:i)},Pn.conformsTo=function(t,e){return null==e||lr(t,e,Ru(e))},Pn.deburr=Wu,Pn.defaultTo=function(t,e){return null==t||t!=t?e:t},Pn.divide=_c,Pn.endsWith=function(t,e,n){t=yu(t),e=li(e);var r=t.length,o=n=n===i?r:cr(gu(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Pn.eq=Pa,Pn.escape=function(t){return(t=yu(t))&&K.test(t)?t.replace(Y,an):t},Pn.escapeRegExp=function(t){return(t=yu(t))&&ot.test(t)?t.replace(it,"\\$&"):t},Pn.every=function(t,e,n){var r=Ha(t)?Le:gr;return n&&wo(t,e,n)&&(e=i),r(t,so(e,3))},Pn.find=va,Pn.findIndex=Wo,Pn.findKey=function(t,e){return Pe(t,so(e,3),wr)},Pn.findLast=ba,Pn.findLastIndex=Ho,Pn.findLastKey=function(t,e){return Pe(t,so(e,3),zr)},Pn.floor=wc,Pn.forEach=ya,Pn.forEachRight=_a,Pn.forIn=function(t,e){return null==t?t:yr(t,so(e,3),Nu)},Pn.forInRight=function(t,e){return null==t?t:_r(t,so(e,3),Nu)},Pn.forOwn=function(t,e){return t&&wr(t,so(e,3))},Pn.forOwnRight=function(t,e){return t&&zr(t,so(e,3))},Pn.get=Tu,Pn.gt=Ba,Pn.gte=Fa,Pn.has=function(t,e){return null!=t&&vo(t,e,Er)},Pn.hasIn=Eu,Pn.head=Go,Pn.identity=ic,Pn.includes=function(t,e,n,r){t=Ga(t)?t:Pu(t),n=n&&!r?gu(n):0;var i=t.length;return n<0&&(n=yn(i+n,0)),cu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Fe(t,e,n)>-1},Pn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:gu(n);return i<0&&(i=yn(r+i,0)),Fe(t,e,i)},Pn.inRange=function(t,e,n){return e=hu(e),n===i?(n=e,e=0):n=hu(n),function(t,e,n){return t>=_n(e,n)&&t<yn(e,n)}(t=vu(t),e,n)},Pn.invoke=Lu,Pn.isArguments=Wa,Pn.isArray=Ha,Pn.isArrayBuffer=Za,Pn.isArrayLike=Ga,Pn.isArrayLikeObject=Ja,Pn.isBoolean=function(t){return!0===t||!1===t||nu(t)&&Sr(t)==_},Pn.isBuffer=Ya,Pn.isDate=Va,Pn.isElement=function(t){return nu(t)&&1===t.nodeType&&!ou(t)},Pn.isEmpty=function(t){if(null==t)return!0;if(Ga(t)&&(Ha(t)||"string"==typeof t||"function"==typeof t.splice||Ya(t)||lu(t)||Wa(t)))return!t.length;var e=mo(t);if(e==x||e==$)return!t.size;if(xo(t))return!Ur(t).length;for(var n in t)if(Mt.call(t,n))return!1;return!0},Pn.isEqual=function(t,e){return Nr(t,e)},Pn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Nr(t,e,i,n):!!r},Pn.isError=Ka,Pn.isFinite=function(t){return"number"==typeof t&&_e(t)},Pn.isFunction=Qa,Pn.isInteger=Xa,Pn.isLength=tu,Pn.isMap=ru,Pn.isMatch=function(t,e){return t===e||Or(t,e,fo(e))},Pn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Or(t,e,fo(e),n)},Pn.isNaN=function(t){return iu(t)&&t!=+t},Pn.isNative=function(t){if(Co(t))throw new Ct("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jr(t)},Pn.isNil=function(t){return null==t},Pn.isNull=function(t){return null===t},Pn.isNumber=iu,Pn.isObject=eu,Pn.isObjectLike=nu,Pn.isPlainObject=ou,Pn.isRegExp=au,Pn.isSafeInteger=function(t){return Xa(t)&&t>=-9007199254740991&&t<=h},Pn.isSet=uu,Pn.isString=cu,Pn.isSymbol=su,Pn.isTypedArray=lu,Pn.isUndefined=function(t){return t===i},Pn.isWeakMap=function(t){return nu(t)&&mo(t)==N},Pn.isWeakSet=function(t){return nu(t)&&"[object WeakSet]"==Sr(t)},Pn.join=function(t,e){return null==t?"":De.call(t,e)},Pn.kebabCase=Hu,Pn.last=Ko,Pn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gu(n))<0?yn(r+o,0):_n(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Be(t,He,o,!0)},Pn.lowerCase=Zu,Pn.lowerFirst=Gu,Pn.lt=fu,Pn.lte=du,Pn.max=function(t){return t&&t.length?mr(t,ic,Tr):i},Pn.maxBy=function(t,e){return t&&t.length?mr(t,so(e,2),Tr):i},Pn.mean=function(t){return Ze(t,ic)},Pn.meanBy=function(t,e){return Ze(t,so(e,2))},Pn.min=function(t){return t&&t.length?mr(t,ic,Ir):i},Pn.minBy=function(t,e){return t&&t.length?mr(t,so(e,2),Ir):i},Pn.stubArray=mc,Pn.stubFalse=vc,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=kc,Pn.nth=function(t,e){return t&&t.length?Wr(t,gu(e)):i},Pn.noConflict=function(){return ge._===this&&(ge._=Pt),this},Pn.noop=sc,Pn.now=Ta,Pn.pad=function(t,e,n){t=yu(t);var r=(e=gu(e))?hn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Hi(me(i),n)+t+Hi(he(i),n)},Pn.padEnd=function(t,e,n){t=yu(t);var r=(e=gu(e))?hn(t):0;return e&&r<e?t+Hi(e-r,n):t},Pn.padStart=function(t,e,n){t=yu(t);var r=(e=gu(e))?hn(t):0;return e&&r<e?Hi(e-r,n)+t:t},Pn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),zn(yu(t).replace(at,""),e||0)},Pn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&wo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=hu(t),e===i?(e=t,t=0):e=hu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=kn();return _n(t+o*(e-t+fe("1e-"+((o+"").length-1))),e)}return Yr(t,e)},Pn.reduce=function(t,e,n){var r=Ha(t)?Ue:Ye,i=arguments.length<3;return r(t,so(e,4),n,i,pr)},Pn.reduceRight=function(t,e,n){var r=Ha(t)?qe:Ye,i=arguments.length<3;return r(t,so(e,4),n,i,hr)},Pn.repeat=function(t,e,n){return e=(n?wo(t,e,n):e===i)?1:gu(e),Vr(yu(t),e)},Pn.replace=function(){var t=arguments,e=yu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Pn.result=function(t,e,n){var r=-1,o=(e=_i(e,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[qo(e[r])];a===i&&(r=o,a=n),t=Qa(a)?a.call(t):a}return t},Pn.round=Cc,Pn.runInContext=t,Pn.sample=function(t){return(Ha(t)?Qn:Qr)(t)},Pn.size=function(t){if(null==t)return 0;if(Ga(t))return cu(t)?hn(t):t.length;var e=mo(t);return e==x||e==$?t.size:Ur(t).length},Pn.snakeCase=Ju,Pn.some=function(t,e,n){var r=Ha(t)?Ie:oi;return n&&wo(t,e,n)&&(e=i),r(t,so(e,3))},Pn.sortedIndex=function(t,e){return ai(t,e)},Pn.sortedIndexBy=function(t,e,n){return ui(t,e,so(n,2))},Pn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&Pa(t[r],e))return r}return-1},Pn.sortedLastIndex=function(t,e){return ai(t,e,!0)},Pn.sortedLastIndexBy=function(t,e,n){return ui(t,e,so(n,2),!0)},Pn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(Pa(t[n],e))return n}return-1},Pn.startCase=Yu,Pn.startsWith=function(t,e,n){return t=yu(t),n=null==n?0:cr(gu(n),0,t.length),e=li(e),t.slice(n,n+e.length)==e},Pn.subtract=xc,Pn.sum=function(t){return t&&t.length?Ve(t,ic):0},Pn.sumBy=function(t,e){return t&&t.length?Ve(t,so(e,2)):0},Pn.template=function(t,e,n){var r=Pn.templateSettings;n&&wo(t,e,n)&&(e=i),t=yu(t),e=zu({},e,r,Xi);var o,a,u=zu({},e.imports,r.imports,Xi),c=Ru(u),s=tn(u,c),l=0,f=e.interpolate||zt,d="__p += '",p=Et((e.escape||zt).source+"|"+f.source+"|"+(f===tt?ht:zt).source+"|"+(e.evaluate||zt).source+"|$","g"),h="//# sourceURL="+(Mt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ue+"]")+"\n";t.replace(p,function(e,n,r,i,u,c){return r||(r=i),d+=t.slice(l,c).replace(kt,un),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e}),d+="';\n";var g=Mt.call(e,"variable")&&e.variable;if(g){if(dt.test(g))throw new Ct("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(H,""):d).replace(Z,"$1").replace(G,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Xu(function(){return xt(c,h+"return "+d).apply(i,s)});if(m.source=d,Ka(m))throw m;return m},Pn.times=function(t,e){if((t=gu(t))<1||t>h)return[];var n=m,r=_n(t,m);e=so(e),t-=m;for(var i=Ke(r,e);++n<t;)e(n);return i},Pn.toFinite=hu,Pn.toInteger=gu,Pn.toLength=mu,Pn.toLower=function(t){return yu(t).toLowerCase()},Pn.toNumber=vu,Pn.toSafeInteger=function(t){return t?cr(gu(t),-9007199254740991,h):0===t?t:0},Pn.toString=yu,Pn.toUpper=function(t){return yu(t).toUpperCase()},Pn.trim=function(t,e,n){if((t=yu(t))&&(n||e===i))return Qe(t);if(!t||!(e=li(e)))return t;var r=gn(t),o=gn(e);return zi(r,nn(r,o),rn(r,o)+1).join("")},Pn.trimEnd=function(t,e,n){if((t=yu(t))&&(n||e===i))return t.slice(0,mn(t)+1);if(!t||!(e=li(e)))return t;var r=gn(t);return zi(r,0,rn(r,gn(e))+1).join("")},Pn.trimStart=function(t,e,n){if((t=yu(t))&&(n||e===i))return t.replace(at,"");if(!t||!(e=li(e)))return t;var r=gn(t);return zi(r,nn(r,gn(e))).join("")},Pn.truncate=function(t,e){var n=30,r="...";if(eu(e)){var o="separator"in e?e.separator:o;n="length"in e?gu(e.length):n,r="omission"in e?li(e.omission):r}var a=(t=yu(t)).length;if(cn(t)){var u=gn(t);a=u.length}if(n>=a)return t;var c=n-hn(r);if(c<1)return r;var s=u?zi(u,0,c).join(""):t.slice(0,c);if(o===i)return s+r;if(u&&(c+=s.length-c),au(o)){if(t.slice(c).search(o)){var l,f=s;for(o.global||(o=Et(o.source,yu(gt.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;s=s.slice(0,d===i?c:d)}}else if(t.indexOf(li(o),c)!=c){var p=s.lastIndexOf(o);p>-1&&(s=s.slice(0,p))}return s+r},Pn.unescape=function(t){return(t=yu(t))&&V.test(t)?t.replace(J,vn):t},Pn.uniqueId=function(t){var e=++Ut;return yu(t)+e},Pn.upperCase=Vu,Pn.upperFirst=Ku,Pn.each=ya,Pn.eachRight=_a,Pn.first=Go,cc(Pn,(zc={},wr(Pn,function(t,e){Mt.call(Pn.prototype,e)||(zc[e]=t)}),zc),{chain:!1}),Pn.VERSION="4.17.21",Ae(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Pn[t].placeholder=Pn}),Ae(["drop","take"],function(t,e){Hn.prototype[t]=function(n){n=n===i?1:yn(gu(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(n,r.__takeCount__):r.__views__.push({size:_n(n,m),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ae(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:so(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Ae(["head","last"],function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}}),Ae(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}}),Hn.prototype.compact=function(){return this.filter(ic)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Kr(function(t,e){return"function"==typeof t?new Hn(this):this.map(function(n){return Lr(n,t,e)})}),Hn.prototype.reject=function(t){return this.filter(Ma(so(t)))},Hn.prototype.slice=function(t,e){t=gu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=gu(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(m)},wr(Hn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Pn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(Pn.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,c=e instanceof Hn,s=u[0],l=c||Ha(e),f=function(t){var e=o.apply(Pn,Me([t],u));return r&&d?e[0]:e};l&&n&&"function"==typeof s&&1!=s.length&&(c=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,g=c&&!p;if(!a&&l){e=g?e:new Hn(this);var m=t.apply(e,u);return m.__actions__.push({func:ha,args:[f],thisArg:i}),new Wn(m,d)}return h&&g?t.apply(this,u):(m=this.thru(f),h?r?m.value()[0]:m.value():m)})}),Ae(["pop","push","shift","sort","splice","unshift"],function(t){var e=Lt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Pn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ha(i)?i:[],t)}return this[n](function(n){return e.apply(Ha(n)?n:[],t)})}}),wr(Hn.prototype,function(t,e){var n=Pn[e];if(n){var r=n.name+"";Mt.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:e,func:n})}}),Rn[Pi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=$i(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=$i(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=$i(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ha(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=_n(e,t+a);break;case"takeRight":t=yn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,c=u-a,s=r?u:a-1,l=this.__iteratees__,f=l.length,d=0,p=_n(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return gi(t,this.__actions__);var h=[];t:for(;c--&&d<p;){for(var g=-1,m=t[s+=e];++g<f;){var v=l[g],b=v.iteratee,y=v.type,_=b(m);if(2==y)m=_;else if(!_){if(1==y)continue t;break t}}h[d++]=m}return h},Pn.prototype.at=ga,Pn.prototype.chain=function(){return pa(this)},Pn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Pn.prototype.next=function(){this.__values__===i&&(this.__values__=pu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Pn.prototype.plant=function(t){for(var e,n=this;n instanceof Fn;){var r=Do(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Pn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:ha,args:[ea],thisArg:i}),new Wn(e,this.__chain__)}return this.thru(ea)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,Qt&&(Pn.prototype[Qt]=function(){return this}),Pn}();ge._=bn,(r=function(){return bn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},601:t=>{"use strict";t.exports=function(t){return t[1]}},625:(t,e,n)=>{"use strict";t.exports=n.p+"images/lifee066b1e9a39c4580a16f.png"},674:(t,e,n)=>{"use strict";t.exports=n.p+"images/location0f7b83154907cf7a3c07.png"},715:(t,e,n)=>{"use strict";t.exports=n.p+"images/attack611bffc6acae31542d44.png"},851:(t,e,n)=>{"use strict";t.exports=n.p+"images/foodebe1849bfc635a21684e.png"},996:(t,e,n)=>{"use strict";t.exports=n.p+"images/material6d1701d6579a2d467845.png"}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=r[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b="undefined"!=typeof document&&document.baseURI||self.location.href,(()=>{"use strict";const t=JSON.parse('{"rE":"0.0.1","h_":"Outil de qualité de vie pour le jeu Fourmizzz"}');var e=n(543),r=n.n(e);const i=JSON.parse('{"f":{"sprite":"/images/batiment/sprite_batiment_mini.jpg"},"p":{"CHAMPIGNONNIERE":{"ref":"3","name":"Champignonnière","description":"Cultiver des champignons agaric est un bon moyen de produire de la nourriture. Certaines rumeurs disent pourtant que s\'ils sont mal entretenus, ils grandissent trop et détruisent la fourmilière.","time":"120 * 1.6^(N)","cost":{"material":"90 * 1.85^(N)"},"type":"production","production":{"food":"122 * 1.7^(N-2)"}},"ENTREPOT_NOURRITURE":{"ref":"9","name":"Entrepôt de nourriture","description":"Permet de stocker d\'importantes quantités de nourriture. La nourriture est primordiale, sans de bonnes réserves de nourriture, la Fourmilière n\'a aucune chance de se développer.","time":"180 * 1.6^(N - 1)","cost":{"material":"600 * 2^(N)"},"type":"storage","storage":{"food":"500 + 600 * 2^(N+1)"}},"ENTREPOT_MATERIAUX":{"ref":"10","name":"Entrepôt de matériaux","description":"Permet de stocker d\'importantes quantités de matériaux. Les matériaux servent principalement à agrandir la Fourmilière et sont donc essentiels à son développement.","time":"180 * 1.6^(N - 1)","cost":{"material":"600 * 2^(N)"},"type":"storage","storage":{"material":"500 + 600 * 2^(N+1)"}},"COUVEUSE":{"ref":"6","name":"Couveuse","description":"La couveuse est la salle dans laquelle sont stockés les oeufs, les ouvrières prennent particulièrement bien soin de ces oeufs qui représentent l\'avenir de la Fourmilière.","time":"180 * 1.6^(N - 1)","cost":{"material":"600 * 2^(N)"},"effect":"Accelère la vitesse de ponte de 10% à chaque niveau."},"SOLARIUM":{"ref":"7","name":"Solarium","description":"Le solarium est une salle bâtie dans le haut de la Fourmilière. Elle permet de faire profiter des rayons du soleil aux œufs, leur permettant de croître plus vite.","time":"1000 * 1.6^(N - 1)","cost":{"material":"2000 * 2^(N+1)"},"effect":"Accelère la vitesse de ponte de 10% à chaque niveau."},"LABORATOIRE":{"ref":"8","name":"Laboratoire","description":"Le laboratoire permet d\'effectuer des recherches vitales pour la Fourmilière. Certaines recherches s\'effectuent au péril de la vie de nombreuses fourmis.","time":"300 * 1.6^(N - 1)","cost":{"material":"1400 * 2^(N)"}},"SALLE_ANALYSE":{"ref":"13","name":"Salle d\'analyse","description":"Proche du laboratoire, les expériences les plus dangereuses y ont lieu. En limitant les accidents dans le laboratoire, les temps de recherches sont réduits.","time":"300 * 1.6^(N - 1)","cost":{"material":"1400 * 2^(N)"},"effect":"Réduit le temps de recherche de 10% à chaque niveau."},"SALLE_COMBAT":{"ref":"4","name":"Salle de combat","description":"C\'est ici que s\'entraînent les soldates. La salle de combat est essentielle pour découvrir de nouvelles techniques de combats ainsi que pour entraîner vos soldates. Les accidents y sont quotidiens.","time":"120 * 1.6^(N - 1)","cost":{"material":"300 * 2^(N)"}},"CASERNE":{"ref":"5","name":"Caserne","description":"C\'est ici que s\'entraîne l\'élite des fourmis. Véritable camp d\'entraînement militaire, toutes les plus fines techniques de combats sont apprises ici. Les guerrières sortant de la caserne sont couramment utilisées comme garde rapprochée pour la reine.","time":"200 * 1.6^(N - 1)","cost":{"material":"800 * 2^(N)"}},"DOME":{"ref":"11","name":"Dôme","description":"Le dôme de la Fourmilière constitue une véritable carapace faite de toutes sortes de matériaux. Les entrées et les galeries sont disposées de sorte à rendre la vie dure aux envahisseurs. Les pièges sont nombreux et mortels.","time":"400 * 1.6^(N - 1)","cost":{"material":"3500 * 2^(N)"},"effect":"Bonus de défense de 10% de base puis 5% pour chaque évolution. Ne concerne que les combats dans la Fourmilière."},"LOGE":{"ref":"12","name":"Loge impériale","description":"La Loge Impériale est une véritable forteresse, faite à partir de matériaux durs, tout est fait pour rendre la vie impossible à l\'ennemie. La Loge Impériale constitue le cœur de la Fourmilière, il est très difficile d\'y déloger une armée. Certaines Loges très évoluées sont réputées imprenables.","time":"500 * 1.6^(N - 1)","cost":{"material":"5000 * 2^(N)"},"effect":"Bonus de défense de 30% de base puis 15% pour chaque évolution. Ne concerne que les combats dans la Loge Impériale."},"ETABLE_PUCERONS":{"ref":"1","name":"Etable à pucerons","description":"Cette étable permet de regrouper les pucerons dans la Fourmilière afin de les exploiter. Les fourmis nourries au miellat sont plus fortes et transportent donc des charges plus lourdes.","time":"500 * 1.6^(N - 1)","cost":{"material":"1500 * 2^(N)"},"effect":"La capacité de transport des fourmis augmente de 1% lors des pillages et de 5% lors du commerce à chaque niveau."},"ETABLE_COCHENILLES":{"ref":"2","name":"Etable à cochenilles","description":"L’armée se nourrit du miellat des cochenilles avant de partir au combat. L’énergie supplémentaire apportée par cette nourriture permet à vos soldates de se concentrer davantage au combat et d’en retirer un plus grand profit.","time":"150 * 1.6^(N - 1)","cost":{"material":"10000 * 2^(N)"},"effect":"+10% d\'expérience au combat par niveau."}}}'),o=JSON.parse('{"p":{"TECHNIQUE_DE_PONTE":{"name":"Technique de ponte"},"BOUCLIER_THORACIQUE":{"name":"Bouclier thoracique"},"ARMES":{"name":"Armes"},"ARCHITECTURE":{"name":"Architecture"},"COMMUNICATION_ANIMAUX":{"name":"Communication avec les animaux"},"VITESSE_CHASSE":{"name":"Vitesse de chasse"},"VITESSE_ATTAQUE":{"name":"Vitesse d\'attaque"},"GENETIQUE":{"name":"Génétique"},"ACIDE":{"name":"Acide"},"POISON":{"name":"Poison"}}}'),a=JSON.parse('{"1":{"name":"Terrain","otherName":"Terrain de Chasse"},"2":{"name":"Dôme","otherName":"Fourmilière"},"3":{"name":"Loge","otherName":"Loge Impériale"}}'),u=JSON.parse('{"f":{"_":"/images/unite/sprite_unite_mini.jpg"},"p":{"O":{"typeUnite":"ouvriere","name":"ouvrière","name_plural":"ouvrières","description":"L’ouvrière est la base d’une fourmilière, elle récolte nourriture et matériaux.","more":"fourmis.php?fourmis=fourmis_castes&caste=ouvriere","spawnTime":60,"foodCost":5},"JSN":{"typeUnite":"unite1","name":"Jeune Soldate Naine","name_plural":"Jeunes Soldates Naines","description":"Jeunes, petites, sans expérience, l\'avantage de ces soldates réside dans leur nombre.","requirements":{"ARCHITECTURE.SALLE_DE_COMBAT":1},"spawnTime":300,"foodCost":16,"unit":{"life":8,"attack":3,"defense":2}},"SN":{"typeUnite":"unite2","name":"Soldate Naine","name_plural":"Soldates Naines","description":"Petites mais farouches, ces guerrières ont prouvé plus d\'une fois leur valeur au combat.","requirements":{"ARCHITECTURE.SALLE_DE_COMBAT":3},"spawnTime":450,"foodCost":20,"unit":{"life":10,"attack":5,"defense":4}},"NE":{"typeUnite":"unite3","name":"Naine d’élite","name_plural":"Naines d’élite","description":"L\'élite des soldates naines, leur dur entraînement en fait d\'excellentes combattantes.","requirements":{"ARCHITECTURE.CASERNE":4},"spawnTime":570,"foodCost":26,"unit":{"life":13,"attack":7,"defense":6}},"JS":{"typeUnite":"unite4","name":"Jeune Soldate","name_plural":"Jeunes Soldates","description":"Jeunes et sans expérience, ces Jeunes Soldates sont un excellent atout de par leur taille qui confère un grand avantage.","requirements":{"ARCHITECTURE.SALLE_DE_COMBAT":7},"spawnTime":740,"foodCost":30,"unit":{"life":16,"attack":10,"defense":9}},"S":{"typeUnite":"unite5","name":"Soldate","name_plural":"Soldates","description":"La Soldate est la base de toute armée, son corps est une véritable arme de guerre.","requirements":{"ARCHITECTURE.CASERNE":9},"spawnTime":1000,"foodCost":36,"unit":{"life":20,"attack":15,"defense":14}},"C":{"typeUnite":"unite6","name":"Concierge","name_plural":"Concierges","description":"Munie d\'un corps difforme, son énorme tête lui permet de bloquer un tunnel de la fourmilière. Les fourmis concierges sont redoutables en défense. Cependant, leurs pattes atrophiées les rendent inutiles en attaque.","requirements":{"ARCHITECTURE.SALLE_DE_COMBAT":10,"LABORATORY.GENETIQUE":5},"spawnTime":1410,"foodCost":70,"unit":{"life":30,"attack":1,"defense":25}},"A":{"typeUnite":"unite7","name":"Artilleuse","name_plural":"Artilleuses","description":"La fourmi artilleuse peut projeter des gouttes d\'acide formique, faisant fondre ses adversaires, ses attaques sont généralement fatales. Placées en seconde ligne, elles bombardent l\'ennemi tout en restant à l\'abri.","requirements":{"ARCHITECTURE.SALLE_DE_COMBAT":11,"LABORATORY.ACIDE":1},"spawnTime":1440,"foodCost":30,"unit":{"life":10,"attack":30,"defense":15}},"AE":{"typeUnite":"unite8","name":"Artilleuse d’élite","name_plural":"Artilleuses d’élite","description":"L\'Elite des artilleuses, elles foudroient leurs cibles en mouvement.","requirements":{"ARCHITECTURE.CASERNE":13,"LABORATORY.ACIDE":5},"spawnTime":1520,"foodCost":34,"unit":{"life":12,"attack":35,"defense":18}},"SE":{"typeUnite":"unite9","name":"Soldate d’élite","name_plural":"Soldates d’élite","description":"Les Soldates d\'élites, la crème de la crème, des combattantes robustes, rapides et fatales.","requirements":{"ARCHITECTURE.CASERNE":17},"spawnTime":1450,"foodCost":44,"unit":{"life":27,"attack":24,"defense":23}},"TK":{"typeUnite":"unite10","name":"Tank","name_plural":"Tanks","description":"Aussi original que dévastateur. Le tank est en fait composé de 5 fourmis. C\'est une énorme fourmi, trop lente pour combattre seule, qui est portée par 4 autres fourmis. Elles constituent ainsi une arme pouvant charger les rangs ennemis en causant d\'importants dégâts. Par contre, elles sont inefficaces en défense.","requirements":{"ARCHITECTURE.CASERNE":23,"LABORATORY.GENETIQUE":15},"spawnTime":1860,"foodCost":100,"unit":{"life":35,"attack":55,"defense":1}},"T":{"typeUnite":"unite11","name":"Tueuse","name_plural":"Tueuses","description":"Ces fourmis sont munies d\'un dard empoisonné. Une cible touchée est une cible morte.","requirements":{"ARCHITECTURE.SALLE_DE_COMBAT":25,"LABORATORY.POISON":4},"spawnTime":2740,"foodCost":80,"unit":{"life":50,"attack":50,"defense":50}},"TE":{"typeUnite":"unite12","name":"Tueuse d’élite","name_plural":"Tueuses d’élite","description":"L\'élite des tueuses, simple légende ou fait réel? Elles ne laissent pas de survivants pour témoigner de leur existence.","requirements":{"ARCHITECTURE.CASERNE":28,"LABORATORY.POISON":7},"spawnTime":2740,"foodCost":90,"unit":{"life":55,"attack":55,"defense":55}}}}'),c=r()(i.p).toPairs().map(([t,e])=>[e.name.toLowerCase(),t]).fromPairs().value(),s=r()(o.p).toPairs().map(([t,e])=>[e.name.toLowerCase(),t]).fromPairs().value(),l=i.p,f=i.f,d=r()(u.p).toPairs().flatMap(([t,e])=>{const n=[];return(null==e?void 0:e.name)&&n.push([e.name,t]),(null==e?void 0:e.name_plural)&&n.push([e.name_plural,t]),n}).fromPairs().value(),p=a;const h=new class{constructor(){this.registry={},this.bindingStore={},this.bindingIdSeq=0,this.routes=[],this.persistentCache={}}storageKeyFor(t){return`az:${t}`}loadStore(t,e){if(Object.prototype.hasOwnProperty.call(this.persistentCache,t))return this.persistentCache[t];try{const e=localStorage.getItem(this.storageKeyFor(t));if(null!=e){const n=JSON.parse(e);return this.persistentCache[t]=n,n}}catch(e){console.warn("[Arck] loadStore parse failed for",t,e)}return this.persistentCache[t]=e,e}saveStore(t,e){this.persistentCache[t]=e;try{localStorage.setItem(this.storageKeyFor(t),JSON.stringify(e))}catch(e){console.warn("[Arck] saveStore failed for",t,e)}}defineRoute(t,e,n){let r;if(t instanceof RegExp)r=t;else{const e=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");r=new RegExp(`^${e}$`,"i")}this.routes.push({pattern:r,componentName:e,getProps:n})}startRouting(t){const e=new URL(window.location.href),n=e.pathname;for(const r of this.routes)if(r.pattern.test(n)){const n=r.getProps?r.getProps(e):{},i=Object.entries(n).map(([t,e])=>null==e?"":"object"==typeof e?`${t}.json='${JSON.stringify(e)}'`:`${t}='${String(e)}'`).filter(Boolean).join(" "),o=`<${r.componentName}${i?` ${i}`:""} />`;return this.mount(o,t),void this.flushMounts()}}define(t,e){this.registry[t.toLowerCase()]=e}renderComponent(t,e={},n=""){const r=t.toLowerCase();if(!this.registry[r])throw new Error(`[Arck] component "${t}" is not defined`);const i=document.createElement(r);for(const[t,n]of Object.entries(e))if(null!=n)if("object"==typeof n){const e=this.makeBindable(n);i.setAttribute(t,String(e))}else i.setAttribute(t,String(n));return n&&(i.innerHTML=n),this.instantiateComponent(r,i)}mount(t,e,n={}){let r;if("string"==typeof t){let e=t.trim();e.startsWith("<")||(e=`<${e} />`);const n=document.createElement("template");n.innerHTML=e;const i=n.content.firstElementChild;if(!i)throw new Error("[Arck] mount() received empty rootSpec");const o=i.tagName.toLowerCase();this.registry[o]?r=this.instantiateComponent(o,i):(r=i,this.resolveTree(r))}else r=t,this.resolveTree(r);e.innerHTML="",e.appendChild(r)}flushMounts(){}toast(t){console.log("[toast pending]:",t)}registerBinding(t){const e="__BIND__"+this.bindingIdSeq++;return this.bindingStore[e]=t,e}tryResolveBindingToken(t){if(t.startsWith("__BIND__"))return this.bindingStore[t]}makeBindable(t){if(null!==t&&"object"==typeof t){const e=this,n=t;n[Symbol.toPrimitive]||Object.defineProperty(n,Symbol.toPrimitive,{value:function(){return e.registerBinding(this)},enumerable:!1}),Object.prototype.hasOwnProperty.call(n,"toString")&&n.toString!==Object.prototype.toString||Object.defineProperty(n,"toString",{value:function(){return e.registerBinding(this)},enumerable:!1})}return t}htmlToElement(t){const e=document.createElement("template");e.innerHTML=t.trim();const n=e.content.firstElementChild;if(!n)throw new Error("[Arck] component must return exactly one root element");return e.content.children.length>1&&console.warn("[Arck] extra siblings dropped; return ONE root element."),n}collectRefs(t){const e={};if(t.hasAttribute("data-ref")){const n=t.getAttribute("data-ref");n&&(e[n]=t)}return t.querySelectorAll("[data-ref]").forEach(t=>{const n=t.getAttribute("data-ref");n&&(n in e||(e[n]=t))}),e}coercePropValue(t,e){if("json"===e)try{return JSON.parse(t)}catch{return t}if("num"===e){const e=Number(t);return Number.isFinite(e)?e:t}if("bool"===e){const e=t.trim().toLowerCase();return"true"===e||"false"!==e&&t}if("str"===e)return t;const n=this.tryResolveBindingToken(t);if(void 0!==n)return n;const r=t.trim(),i=r.toLowerCase();if(r.startsWith("{")&&r.endsWith("}")||r.startsWith("[")&&r.endsWith("]"))try{return JSON.parse(r)}catch{}if("true"===i)return!0;if("false"===i)return!1;if(/^-?\d+(\.\d+)?$/.test(r)){const t=Number(r);if(Number.isFinite(t))return t}return t}getPropsFromNode(t){const e={};for(const n of Array.from(t.attributes)){const t=n.name.match(/^(.*)\.(json|num|bool|str)$/);if(t){const[,r,i]=t;e[r]=this.coercePropValue(n.value,i)}else e[n.name]=this.coercePropValue(n.value)}const n=t.innerHTML.trim();return e.children=n||"",e}resolveTree(t){const e=Array.from(t.children);for(const t of e)this.resolveNode(t)}resolveNode(t){const e=t.tagName.toLowerCase();if(this.registry[e]){const n=this.instantiateComponent(e,t);t.replaceWith(n)}else this.resolveTree(t)}isClassComponent(t){const e=t.prototype;return"function"==typeof t&&!!e&&"function"==typeof e.render}instantiateComponent(t,e){const n=this.registry[t];if(!n)throw new Error(`[Arck] component <${t}> is not defined`);const r=this.getPropsFromNode(e);if(this.isClassComponent(n)){const t=new n(r),e=t.render(),i=this.htmlToElement(e);if(this.resolveTree(i),"function"==typeof t.onMount){const e=this.collectRefs(i);t.onMount(i,e)}return i}const i=[],o=[],a=[],u=[];let c;const s=this;function l(){const t=s.collectRefs(c);for(const e of u)e(c,t)}function f(){const{html:t}=d(),e=s.htmlToElement(t);s.resolveTree(e),c.replaceWith(e),c=e,l()}function d(){let t=0;function e(){const e=t;return t++,e}return{html:n(r,{onMount(t){"function"==typeof t&&u.push(t)},useState(t){const n=e();n>=i.length&&(i[n]=s.makeBindable(t));return[i[n],t=>{i[n]=s.makeBindable(t),f()}]},useRef(t){const n=e();return n>=o.length&&(o[n]={current:t}),o[n]},useStore(t,n){const r=e();if(r>=i.length){const e=s.loadStore(t,n);i[r]=s.makeBindable(e),a[r]={key:t}}else if(!a[r]){const e=s.loadStore(t,n);i[r]=s.makeBindable(e),a[r]={key:t}}const{key:o}=a[r];return[i[r],t=>{i[r]=s.makeBindable(t),s.saveStore(o,t),f()}]},useAsync(t,n){const r=e(),a=e(),u=e(),c=e();return r>=i.length&&(i[r]=s.makeBindable(n)),a>=i.length&&(i[a]=!1),u>=i.length&&(i[u]=null),c>=o.length&&(o[c]={current:!1}),o[c].current||(o[c].current=!0,i[a]=!0,f(),(async()=>{try{const e=await t();i[r]=s.makeBindable(e),i[u]=null}catch(t){i[u]=t}finally{i[a]=!1,f()}})()),[i[r],i[a],i[u]]}})}}const{html:p}=d();return c=this.htmlToElement(p),this.resolveTree(c),l(),c}},g=h;async function m(t){const e=await fetch(t,{method:"GET",credentials:"same-origin"});if(!e.ok)throw new Error(`Impossible de récupérer ${t} (HTTP ${e.status})`);const n=await e.text();return(new DOMParser).parseFromString(n,"text/html")}const v=t=>{if(!t)return;const e=t.replace(/[\s\u00A0\u202F\u2009,]/g,""),n=Number(e);return Number.isFinite(n)?n:void 0};function b(t,e,n){var r,i,o,a,u,c;const s={...n||{}},l=t.querySelectorAll("#centre table>tbody>tr.ligneAmelioration");for(const t of l){const n=t.querySelector("td.desciption_amelioration"),l=null===(i=null===(r=null==n?void 0:n.querySelector("h2"))||void 0===r?void 0:r.textContent)||void 0===i?void 0:i.trim().toLowerCase(),f=null!==(c=null===(u=null===(a=null===(o=null==n?void 0:n.querySelector(".niveau_amelioration"))||void 0===o?void 0:o.textContent)||void 0===a?void 0:a.trim())||void 0===u?void 0:u.replace("niveau ",""))&&void 0!==c?c:"0",[d,p]=f.split(" -> ").map(v),h=null!=d?d:0;l&&e[l]&&(s[e[l]]={level:h,enhancement:void 0!==p})}return s}function y(t,e,n){var r,i,o,a,u,c,s;const l={...n||{}},f=t.querySelectorAll("#centre>strong");for(const t of f){const n=t.innerHTML||"",f=t.textContent||"",d=n.match(/reste\((\d+),\s*"(recherche_(\d+))"\)/),p=Number(d?d[1]:null!==(i=null===(r=n.match(/reste\((\d+),/))||void 0===r?void 0:r[1])&&void 0!==i?i:0),h=null!==(a=d?d[2]:null===(o=n.match(/annuler=(\d+)/))||void 0===o?void 0:o[1])&&void 0!==a?a:null,g=null!==(s=null!==(c=null===(u=null==h?void 0:h.match(/\d+/))||void 0===u?void 0:u[0])&&void 0!==c?c:h)&&void 0!==s?s:void 0,m=n.replace(/<[^>]+>/g," ").match(/-?\s*([^\d-][^0-9<]+?)\s+\d+/),v=m?m[1].trim().toLowerCase():f.split("terminé dans")[0].replace(/-/,"").trim().toLowerCase();g&&v&&e[v]&&(l[g]={end:new Date(Date.now()+1e3*p),on:e[v]})}return l}function _(t){var e,n,i,o,a;const u=t.querySelector("#centre"),c={};let s="";if(!u)return{training:c,tToken:s};const l=u.querySelector("input[name='t']");l&&l.value&&(s=l.value);const f=u.querySelectorAll("table.tableau_leger tr"),h=Array.from(f).slice(1);let g=null;const m=r().fromPairs(r().map(p,(t,e)=>[t.otherName,e]));for(let t=0;t<h.length;t++){const r=h[t],u=r.querySelectorAll("td");if(u.length<2)continue;const s=null!==(n=null===(e=u[0].textContent)||void 0===e?void 0:e.trim())&&void 0!==n?n:"",l=s.match(/^([\d\s]+)\s+(.+)$/),f=null!==(i=l?v(l[1]):0)&&void 0!==i?i:0,p=l?l[2].trim():s,b=(null!==(o=u[1].textContent)&&void 0!==o?o:"").trim();let y=null;if(0===t){let t=r.nextElementSibling;for(let e=0;e<2&&t;e++)t=t.nextElementSibling;t&&"SCRIPT"===t.tagName&&(y=t)}else{let t=r.nextElementSibling;for(;t&&"SCRIPT"!==t.tagName;)t=t.nextElementSibling;t&&"SCRIPT"===t.tagName&&(y=t)}const _=(null!==(a=null==y?void 0:y.textContent)&&void 0!==a?a:"").match(/reste\((\d+),\s*["']?ponte_(\d+)["']?\)/);if(!_)continue;const w=Number(_[1]),z=_[2],k=new Date(Date.now()+1e3*w),C=g,x=C?C.getTime():Date.now(),S=(k.getTime()-x)/1e3,T=S>0?f/S:0;c[z]={end:k,startingAt:C,amount:f,on:d[p],to:m[b],productionRate:T},g=k}return{training:c,tToken:s}}async function w(){const[t,e,n,i]=await Promise.all([m("Reine.php"),m("Armee.php"),m("construction.php"),m("laboratoire.php")]),o=function(t,e){var n,i,o,a,u,c;const s=t.querySelector("#menuBoite #data"),l={...e||{}};if(!s)return l;for(const[t,e]of r().entries({workers:"#nb_ouvrieres",food:"#nb_nourriture",materials:"#nb_materiaux",territory:"#quantite_tdc"})){const r=v(null===(i=null===(n=s.querySelector(e))||void 0===n?void 0:n.textContent)||void 0===i?void 0:i.trim());void 0!==r&&(l[t]=r)}return l.username=null!==(a=null===(o=s.querySelector("#pseudo"))||void 0===o?void 0:o.textContent)&&void 0!==a?a:l.username,l.alliance=null!==(c=null===(u=s.querySelector("#tag_alliance"))||void 0===u?void 0:u.textContent)&&void 0!==c?c:l.alliance,l}(t,g.loadStore("anthill",{lastUpdate:new Date,anthill:{}}).anthill),a={lastUpdate:new Date,anthill:o};g.saveStore("anthill",a);const{training:u,tToken:l}=_(t),f={lastUpdate:new Date,training:u,tToken:l||""};g.saveStore("training",f);const{army:h,attacks:w}=function(t){var e,n,r,i,o,a;const u={},c={},s=t.querySelectorAll("#centre table.simulateur");if(s.length){const t=s[0].querySelectorAll("tbody > tr"),n=Array.from(t).slice(2);for(const t of n){const n=t.querySelector("td div.pas_sur_telephone");if(!n)continue;const r=null===(e=n.textContent)||void 0===e?void 0:e.trim(),i=t.querySelectorAll("span[id]"),o={total:0,on:{}};i.forEach(t=>{const e=t.id.match(/\(([^,]+),\s*'[^']+',\s*(\d+)\)/);if(!e)return;const n=(t.textContent||"").replace(/\s/g,""),r=parseInt(n,10),i=e[2],a=p[i].name;a&&(o.on[a]=r,o.total+=r)}),u[d[r]]=o}}const l=Array.from(t.querySelectorAll("#centre h3")).find(t=>{var e;return null===(e=t.textContent)||void 0===e?void 0:e.includes("Attaque")});if(l){const t=l.closest("center");if(t){const e=(null!==(n=t.innerHTML.split(l.outerHTML)[1])&&void 0!==n?n:"").split("<br>").map(t=>t.trim()).filter(t=>t.startsWith("- Vous allez attaquer"));for(const t of e){const e=document.createElement("div");e.innerHTML=t;const n=e.querySelector("span.gras"),u=null==n?void 0:n.querySelectorAll("a"),s=null==u?void 0:u[0],l=null==u?void 0:u[1],f=(null!==(i=null===(r=e.querySelector("script"))||void 0===r?void 0:r.textContent)&&void 0!==i?i:"").match(/reste\((\d+),\s*"(attaque_(\d+))"\)/);if(!f)continue;const d=Number(f[1]);c[f[3]]={target:(null===(o=null==s?void 0:s.textContent)||void 0===o?void 0:o.trim())||"",alliance:(null===(a=null==l?void 0:l.textContent)||void 0===a?void 0:a.trim())||null,end:new Date(Date.now()+1e3*d)}}}}return{army:u,attacks:c}}(e),z={lastUpdate:new Date,army:h,attacks:w};g.saveStore("army",z);const{architecture:k,architecture_research:C}={architecture:b(x=n,c,S||void 0),architecture_research:y(x,c,T||void 0)};var x,S,T;g.saveStore("architecture",{lastUpdate:new Date,architecture:k,architecture_research:C});const{laboratory:E,laboratory_research:A}=function(t,e,n){return{laboratory:b(t,s,e||void 0),laboratory_research:y(t,s,n||void 0)}}(i);g.saveStore("laboratory",{lastUpdate:new Date,laboratory:E,laboratory_research:A}),function(){const t=g.loadStore("anthill",{lastUpdate:new Date,anthill:{}}),e=g.loadStore("training",{lastUpdate:new Date,training:{},tToken:""}),n=g.loadStore("army",{lastUpdate:new Date,army:{},attacks:{}}),r=g.loadStore("architecture",{lastUpdate:new Date,architecture:{},architecture_research:{}}),i=g.loadStore("laboratory",{lastUpdate:new Date,laboratory:{},laboratory_research:{}}),o={lastUpdate:new Date,anthill:t.anthill,architecture:r.architecture,architecture_research:r.architecture_research,laboratory:i.laboratory,laboratory_research:i.laboratory_research,training:e.training,army:n.army,attacks:n.attacks};g.saveStore("data",o)}()}let z=!1;const k=new class{info(t,...e){console.log(this.format(t),...e)}warn(t,...e){console.warn(this.format(t),...e)}error(t,...e){console.error(this.format(t),...e)}time(){const t=new Date,e=(t,e=2)=>String(t).padStart(e,"0");return`${e(t.getHours())}:${e(t.getMinutes())}:${e(t.getSeconds())}.${String(t.getMilliseconds()).padStart(3,"0")}`}format(t){return"object"==typeof t?`[${this.time()}] [Arckzzz] ${JSON.stringify(t)}`:`[${this.time()}] [Arckzzz] ${t}`}};n(158);function C(t,e){if(!t)return 0;let n=t.replace(/\^/g,"**");n=n.replace(/\{\{(\w+)\}\}/g,(t,n)=>{var r;return null!==(r=e[n])&&void 0!==r?r:0}).replace(/\b([A-Za-z_]\w*)\b/g,t=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:t);try{return Function(`"use strict"; return (${n});`)()}catch(t){return console.error("Erreur d’évaluation :",t),0}}function x(t,e=!1){return e?t>=1e30?`${(t/1e30).toFixed(1).replace(/\.0$/,"")}Q`:t>=1e27?`${(t/1e27).toFixed(1).replace(/\.0$/,"")}R`:t>=1e24?`${(t/1e24).toFixed(1).replace(/\.0$/,"")}Y`:t>=1e21?`${(t/1e21).toFixed(1).replace(/\.0$/,"")}Z`:t>=1e18?`${(t/1e18).toFixed(1).replace(/\.0$/,"")}E`:t>=1e15?`${(t/1e15).toFixed(1).replace(/\.0$/,"")}P`:t>=1e12?`${(t/1e12).toFixed(1).replace(/\.0$/,"")}T`:t>=1e9?`${(t/1e9).toFixed(1).replace(/\.0$/,"")}G`:t>=1e6?`${(t/1e6).toFixed(1).replace(/\.0$/,"")}M`:t>=1e3?`${(t/1e3).toFixed(1).replace(/\.0$/,"")}K`:t.toString():Math.ceil(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function S(t,e=!1,n=!0){const r=Math.round(1e3*t);if(0===r)return"0ms";const i=[{label:"j",ms:864e5},{label:"h",ms:36e5},{label:"m",ms:6e4},{label:"s",ms:1e3},n?{label:"ms",ms:1}:null].filter(t=>null!==t);let o=r;const a=[];for(const{label:t,ms:e}of i)if(o>=e){const n=Math.floor(o/e);o-=n*e,a.push({label:t,value:n,ms:e})}if(0===a.length)return"0ms";if(!e)return a.map(t=>`${t.value}${t.label}`).join(" ");if(1===a.length){const t=a[0];return`${t.value}${t.label}`}const u=a[0],c=a[1],s=r-(u.value*u.ms+c.value*c.ms);let l=Math.round(c.value+s/c.ms),f=u.value;const d=Math.floor(u.ms/c.ms);if(d>0&&l>=d){f+=Math.floor(l/d),l%=d}return 0===l?`${f}${u.label}`:`${f}${u.label} ${l}${c.label}`}function T(t){if(null==t)return null;if("number"==typeof t)return t;if(t instanceof Date)return t.getTime();const e=Date.parse(String(t));return Number.isFinite(e)?e:null}function E(t){if(null==t)return null;if(t instanceof Date)return t;if("number"==typeof t)return new Date(t);const e=Date.parse(t);return Number.isFinite(e)?new Date(e):null}function A(t){const e=t||{},n={};for(const[t,r]of Object.entries(e)){const e=T(r.end),i=T(r.startingAt);n[t]={end:null!=e?e:0,startingAt:i,amount:r.amount,on:r.on,to:r.to,productionRate:r.productionRate}}return n}function $(t){const e={};for(const[n,r]of Object.entries(t))e[n]={end:E(r.end)||new Date(r.end),startingAt:null!=r.startingAt?E(r.startingAt):null,amount:r.amount,on:r.on,to:r.to,productionRate:r.productionRate};return e}function L(t){let e=null,n=0,i=0;return r().forEach(t,(t,r)=>{var o,a;if(t.end>n){e=r,n=t.end;const c=null===(o=u.p)||void 0===o?void 0:o[t.on],s=null!==(a=null==c?void 0:c.foodCost)&&void 0!==a?a:0;i=s*t.amount}}),{id:e,endTs:n,cost:i}}g.define("BuildingCard",function(t,e){const{mapping:n,level:r}=t,i=(null!=r?r:0)+1,o=Object.entries(n.cost||{}).map(([t,e])=>`\n                <div class="cost-line with-icon ${t}">\n                    ${x(C(e,{N:null!=r?r:0}))}\n                </div>\n            `).join(""),a=Object.entries(n.storage||{}).map(([t,e])=>`\n                <span class="with-icon after ${t}">\n                    ${x(C(e,{N:null!=r?r:0}))}\n                </span>\n            `).join(" "),u=Object.entries(n.storage||{}).map(([t,e])=>`\n                <span class="with-icon after ${t}">\n                    ${x(C(e,{N:i}))}\n                </span>\n            `).join(" "),c=Object.entries(n.production||{}).map(([t,e])=>`\n                <span class="with-icon after ${t}">\n                    ${x(C(e,{N:null!=r?r:0}))}\n                </span>\n            `).join(" "),s=Object.entries(n.production||{}).map(([t,e])=>`\n                <span class="with-icon after ${t}">\n                    ${x(C(e,{N:i}))}\n                </span>\n            `).join(" ");let l="";if(n.time){const e=C(n.time,{N:null!=r?r:0});l=`\n            <div class="with-icon time">\n            ${S(e*t.reductionfactor,!1,!1)}\n            <Tooltip side="top">\n                Temps de construction de base: ${S(e,!1,!1)}\n            </Tooltip>\n</div>\n        `}return`\n        <div class="building-card" id="building${n.ref}">\n            <div class="sprite">\n                <Tooltip side="right">\n                    ${n.description||""}\n                </Tooltip>\n            </div>\n\n            <div class="info">\n                <h3>\n                    ${n.name}\n                    <span class="level">${null!=r?r:0}</span>\n                </h3>\n\n                ${l}\n\n                ${o?`<div class="cost">${o}</div>`:""}\n\n                ${n.effect?`<p class="effect">${n.effect}</p>`:""}\n\n                ${a?`\n                        <div class="storage">\n                            Capacité actuelle:\n                            ${a}\n                        </div>\n                        <div class="storage">\n                            Capacité niveau ${i}:\n                            ${u}\n                        </div>\n                    `:""}\n\n                ${c?`\n                        <div class="production">\n                            Production actuelle:\n                            ${c}\n                        </div>\n                        <div class="production">\n                            Production niveau ${i}:\n                            ${s}\n                        </div>\n                    `:""}\n\n                <button data-ref="improve-${n.ref}">\n                    Lancer l'amélioration\n                </button>\n            </div>\n        </div>\n    `}),g.define("LayingCard",function(t,{onMount:e}){const{t:n,unitkey:i,unitdata:o,reductionfactor:a,currentfood:u}=t,c=o.foodCost||0,s=o.spawnTime||0,l=s*a,f="3";function d(t){return Object.entries(p).map(([e,n])=>`\n                <li\n                    data-location-index="${e}"\n                    style="cursor:pointer;"\n                    ${e===t?'class="selected"':""}>\n                    ${n.name} ${e===t?"&#10003;":""}\n                </li>\n            `).join("")}e(t=>{let e=f;const s=t.querySelector('[data-ref="qtyInput"]'),h=t.querySelector('[data-ref="foodEl"]'),m=t.querySelector('[data-ref="timeEl"]'),v=t.querySelector('[data-ref="btnMax"]'),b=t.querySelector('[data-ref="btnLaunch"]'),y=t.querySelector('[data-ref="locationName"]'),_=t.querySelector('[data-ref="locationList"]');function w(){return Number(t.getAttribute("data-qty"))||0}function z(e){var n;(isNaN(e)||e<0)&&(e=0),e=Math.floor(e),n=e,t.setAttribute("data-qty",String(n)),s&&(s.value=String(n)),function(){if(!h||!m)return;const t=w(),e=c*t,n=l*t;h.textContent=x(t<=1?c:e,!0),m.textContent=S(t<=1?l:n,!0),e<=u?(h.classList.add("sufficient"),h.classList.remove("insufficient")):(h.classList.add("insufficient"),h.classList.remove("sufficient"))}()}function k(t){e=t,y&&(y.textContent=p[e].name),_&&(_.innerHTML=d(e))}y&&_&&(y.addEventListener("click",()=>{const t=r().keys(p),n=t.indexOf(e);k(t[(n+1)%t.length])}),_.addEventListener("click",t=>{var e;const n=null===(e=t.target)||void 0===e?void 0:e.closest("li[data-location-index]");if(!n)return;const r=n.getAttribute("data-location-index");r&&k(r)})),s&&(s.addEventListener("input",()=>{const t=s.value.trim();if(""===t)return void z(0);const e=function(t){var e;const n=t.trim().match(/^([\d.,]+)\s*([kKmMgGtTpP]?)$/);return n?parseFloat(n[1].replace(",","."))*(null!==(e={"":1,K:1e3,M:1e6,G:1e9,T:1e12,P:1e15}[n[2].toUpperCase()])&&void 0!==e?e:1):NaN}(t);!isNaN(e)&&e>=0&&z(e)}),s.addEventListener("keydown",t=>{if("ArrowUp"===t.key||"ArrowDown"===t.key){t.preventDefault();const e=w(),n="ArrowUp"===t.key?e+1:e-1;z(Math.max(0,n))}})),v&&v.addEventListener("click",()=>{if(c<=0)return;z(Math.floor(u/c))}),b&&b.addEventListener("click",async()=>{const r=w();if(!r||r<=0)return void alert("Quantité invalide.");const u=new URLSearchParams;u.set("unePonte","oui"),u.set("typeUnite",o.typeUnite),u.set("t",n),u.set("input_cout_nombre",String(r)),u.set("nombre_de_ponte",String(r)),u.set("destination",e);try{const n=await fetch("Reine.php",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:u});if(!n.ok)throw new Error(`HTTP ${n.status}`);t.dispatchEvent(new CustomEvent("arck:ponte-sent",{bubbles:!0,detail:{unitKey:i,unitData:o,qty:r,reductionfactor:a,toLabel:e}}))}catch(t){console.error("Erreur POST ponte:",t),g.toast("❌ Erreur lors de l'envoi de la ponte.")}}),k(f),z(1)});const h="O"!==i&&o.unit?`\n                <div class="unit-data">\n                    <span class="with-icon life">${o.unit.life}</span>\n                    <span class="with-icon attack">${o.unit.attack}</span>\n                    <span class="with-icon defense">${o.unit.defense}</span>\n                </div>\n              `:"",m="O"!==i?`\n                <div class="sprite">\n                    <Tooltip side="top">${o.description}</Tooltip>\n                </div>\n              `:'\n                <div class="sprite"></div>\n              ',v="O"===i?`<p>${o.description}</p>`:"";return`\n        <div\n            class="unit"\n            data-ref="cardRoot"\n            data-unitkey="${i}"\n            data-qty="1"\n            id="${o.typeUnite}"\n        >\n            ${m}\n\n            ${h}\n\n            <div class="info">\n                <h3 style="text-transform: capitalize">\n                    ${o.name} (${i})\n                </h3>\n\n                <div class="cost">\n                    <span\n                        class="with-icon food"\n                        data-ref="foodEl"\n                        data-base-food="${c}"\n                    >\n                        ${x(c)}\n                    </span>\n\n                    <span\n                        class="with-icon time"\n                        data-ref="timeEl"\n                        data-base-time="${s}"\n                    >\n                        ${S(l,!0)}\n                    </span>\n\n                    <span class="with-icon location arckzzz-tooltip-parent">\n                        <span class="location" data-ref="locationName">\n                            ${p[f].name}\n                        </span>\n\n                        <span class="arckzzz-tooltip right location-tooltip">\n                            Clique pour changer de destination\n                            <ul class="location-list" data-ref="locationList">\n                                ${d(f)}\n                            </ul>\n                        </span>\n                    </span>\n                </div>\n\n                ${v}\n\n                <div class="input">\n                    <label>\n                        <input\n                            type="text"\n                            inputmode="decimal"\n                            value="1"\n                            class="arckzzz-reine-quantity"\n                            data-ref="qtyInput"\n                        />\n                        <Tooltip side="bottom">\n                            Suffixes : k = mille, M = million, G = milliard, T = billion, P = billiard\n                        </Tooltip>\n                    </label>\n\n                    <button name="max" data-ref="btnMax">Max</button>\n\n                    <button\n                        name="ponte"\n                        data-unit="${i}"\n                        data-ref="btnLaunch"\n                    >\n                        Lancer\n                    </button>\n                </div>\n            </div>\n        </div>\n    `}),g.define("TrainingTable",function(t,{onMount:e}){var n;const i=null!==(n=t.training)&&void 0!==n?n:{};return e(t=>{function e(){const e=Date.now();t.querySelectorAll("tr[data-training-row]").forEach(t=>{const n=Number(t.dataset.total||"0"),r=Number(t.dataset.start||"0"),i=Number(t.dataset.end||"0"),o=Number(t.dataset.rate||"0"),a=t.querySelector('[data-role="qtyCell"]');if(!a)return;const u=(i-r)/1e3;if(u<=0||o<=0||n<=0)return void(a.textContent=x(n));let c=(e-r)/1e3;c<0&&(c=0),c>u&&(c=u);const s=o*c;let l=Math.floor(n-s);l<0&&(l=0),a.textContent=x(l)})}e(),setInterval(e,100)}),`<table class="arckzzz-table">\n            <thead>\n                <tr>\n                    <th>Unité</th>\n                    <th>Quantité</th>\n                    <th>Destination</th>\n                    <th>Début</th>\n                    <th>Fin</th>\n                    <th>Production/s</th>\n                    <th>Coût</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${r().map(i,(t,e)=>{const n=u.p[t.on],r=t.startingAt?new Date(t.startingAt):null,i=new Date(t.end);let o;if(r&&r.getTime()>Date.now())o=r.getTime();else{const e=t.amount/t.productionRate;o=i.getTime()-1e3*e}const a=r?r.getTime()>Date.now()?`<Countdown ts.num="${r.getTime()}" />`:r.toString():"En cours",c=`<Countdown ts.num="${i.getTime()}" />`,s=t.amount>1?n.name_plural:n.name,l=t.productionRate.toFixed(2),f=x(n.foodCost*t.amount);return`\n            <tr\n                id="${e}"\n                class="${r?"":"active"}"\n                data-training-row="1"\n                data-total="${t.amount}"\n                data-start="${o}"\n                data-end="${i.getTime()}"\n                data-rate="${t.productionRate}"\n            >\n                <td style="text-transform: capitalize">\n                    ${s}\n                </td>\n                <td data-role="qtyCell">${x(t.amount)}</td>\n                <td>${p[t.to].name}</td>\n                <td>${a}</td>\n                <td>${c}</td>\n                <td>${l}</td>\n                <td>${f}</td>\n            </tr>\n        `}).join("")}\n            </tbody>\n        </table>`}),g.define("Laying",function(t,e){return`\n        <div class="units">\n            ${r().map(u.p,(n,r)=>{const[i]=e.useState(n);return`\n                <LayingCard\n                    unitkey="${r}"\n                    unitdata="${i}"\n                    reductionfactor.num="${t.reductionfactor}"\n                    currentfood.num="${t.currentfood}"\n                    t="${t.t}"\n                ></LayingCard>\n            `}).join("")}\n        </div>\n    `});var R,N=n(321),O=n.n(N);if(k.info(`🚀 Loading v${t.rE}`),"function"==typeof GM_addStyle)GM_addStyle(O());else{const t=document.createElement("style");t.textContent=O(),document.head.appendChild(t),k.info("📝 Styles injected")}g.define("Arckzzz",function(e={},{onMount:n}){return n((t,e)=>{const n=e.trigger,r=e.dialog,i=e.closeBtn,o=e.dialogInner;n&&r&&n.addEventListener("click",()=>r.showModal()),i&&r&&i.addEventListener("click",()=>r.close()),r&&o&&r.addEventListener("click",t=>{const e=o.getBoundingClientRect(),{clientX:n,clientY:i}=t;n>=e.left&&n<=e.right&&i>=e.top&&i<=e.bottom||r.close()})}),`\n        <div data-ref="arckzzz-root">\n            <div\n                id="arckzzz-settings"\n                data-ref="trigger"\n            >\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" >\n    <defs>\n        <linearGradient id="gradient-1" >\n            <stop offset="0" style="stop-color: rgb(20, 18, 17);"></stop>\n            <stop offset="1" style="stop-color: rgb(18, 17, 16);"></stop>\n        </linearGradient>\n        <linearGradient id="gradient-1-0" href="#gradient-1" gradientUnits="userSpaceOnUse" x1="253.333" y1="21.011" x2="253.333" y2="479.455" gradientTransform="matrix(1.093885, 0, 0, 1.093885, -23.256583, -22.878151)"></linearGradient>\n    </defs>\n    <g transform="matrix(1, 0, 0, 1, -3.682534, -0.662791)">\n        <path style="fill-rule: nonzero; paint-order: fill; fill: url(#gradient-1-0);" d="M 280.215 500.978 C 279.06 478.017 270.218 456.795 257.656 441.274 C 245.094 425.754 229.445 414.239 216.898 405.811 L 221.469 394.349 L 227.083 381.448 C 258.229 386.606 290.434 384.223 310.595 381.225 C 330.756 378.227 337.795 374.414 345.267 367.393 C 346.462 366.582 347.75 366.662 348.394 366.979 C 356.532 370.983 371.122 376.449 387.133 378.886 C 404.41 381.515 423.17 380.711 432.2 372.633 C 434 371.41 434.561 365.42 433.223 357.799 C 430.723 343.56 430.225 345.088 426.879 333.88 C 430.822 333.906 435.119 336.247 445.627 344.631 C 456.135 353.014 455.693 355.327 459.4 359.277 C 462.316 361.372 464.069 359.246 464.341 358.257 C 468.041 344.826 470.448 331.097 467.925 318.152 C 465.126 303.789 462.174 297.979 458.962 291.331 C 449.264 274.77 435.722 262.998 411.639 242.268 C 393.241 226.431 378.289 193.981 365.834 174.516 C 336.769 129.096 291.536 120.514 275.293 115.584 C 264.721 112.951 247.962 110.853 238.199 110.265 C 224.874 109.462 206.635 110.71 203.121 111.224 C 208.051 89.759 218.33 77.226 224.241 71.16 C 225.506 69.441 233.593 61.448 243.748 54.404 C 255.614 46.174 271.347 39.431 275.137 38.311 C 279.53 36.376 294.406 32.24 311.036 29.644 C 317.166 28.687 340.499 28.719 349.786 27.534 C 368.479 25.147 371.97 18.955 352.164 14.282 C 345.224 12.644 322.96 12.37 311.65 13.248 C 298.238 13.608 272.75 22.052 260.391 28.227 C 248.377 34.229 234.846 37.923 210.827 66.105 C 201.085 77.535 190.621 98.861 189.273 113.97 C 189.273 113.97 162.944 119.113 142.633 130.468 C 122.324 141.823 106.7 158.374 106.543 158.533 C 106.385 158.691 93.229 146.429 87.985 129.044 C 82.74 111.659 84.595 102.143 87.852 90.655 C 92.11 75.641 101.11 62.661 124.445 41.48 C 145.949 25.184 151.807 21.813 162.675 11.972 C 176.412 -0.47 160.176 -0.984 155.071 0.952 C 141.273 6.182 132.48 14.138 118.395 25.089 C 108.74 32.594 91.276 54.314 91.777 54.515 C 84.112 65.493 79.812 74.389 74.542 88.048 C 72.519 94.807 71.064 102.735 70.871 113.225 C 71.563 130.4 81.769 154.388 98.204 168.817 C 91.779 178.622 83.954 191.295 79.681 207.485 C 73.639 230.378 74.107 246.105 78.022 261.905 C 83.277 283.121 87.912 294.767 101.824 313.135 C 112.367 327.055 121.009 334.674 125.598 338.525 C 130.86 342.941 142.932 351.79 149.866 355.767 C 155.866 359.207 159.25 361.293 166.123 364.024 C 168.916 365.134 170.626 365.295 169.665 367.846 C 167.878 372.591 159.965 388.123 148.501 401.622 C 137.037 415.12 123.237 422.168 108.088 428.444 C 91.372 435.368 76.648 444.189 63.493 456.713 C 50.338 469.237 41.952 487.224 38.4 500.863">\n        </path>\n        <g style="" transform="matrix(1.093884, 0, 0, 1.093884, -23.681012, -23.450253)">\n            <g>\n                <path style="fill: rgb(255, 255, 255);" d="M 255.47 163.288 C 246.517 163.233 228.459 166.584 226.251 188.821 C 223.184 219.711 240.249 242.247 252.923 255.059 C 262.812 266.543 292.768 284.209 313.569 275.849 C 329.998 269.246 331.862 247.279 327.364 231.326 C 324.496 221.155 318.384 203.056 298.374 185.396 C 297.683 184.738 278.581 164.187 255.47 163.288 Z">\n                </path>\n                <path style="fill: rgb(18, 17, 17);" d="M 300.491 205.391 C 288.541 208.182 299.096 265.742 316.517 266.281 C 320.149 266.219 322.682 263.826 325.259 255.81 C 328.111 241.896 317.817 201.345 300.491 205.391 Z">\n                </path>\n                <path style="fill: rgb(148, 131, 109);" d="M 217.545 165.754 C 265.67 129.642 309.996 187.518 308.244 188.699 C 318.358 151.463 219.585 122.077 217.545 165.754 Z">\n                </path>\n            </g>\n            <g>\n                <path style="fill: rgb(148, 131, 109);" d="M 327.427 350.568 C 324.257 343.147 327.855 336.93 331.67 332.511 C 336.961 326.383 340.691 324.657 348.767 323.336 C 350.445 322.726 327.529 343.717 327.427 350.568 Z">\n                </path>\n                <path style="fill: rgb(255, 255, 255);" d="M 353.858 332.415 C 352.578 331.714 363.715 324.548 372.187 322.808 C 374.694 322.293 399.419 314.211 406.788 340.68 C 408.312 346.154 411.654 354.716 406.89 353.183 C 390.182 347.597 352.511 333.517 353.858 332.415 Z">\n                </path>\n            </g>\n            <path style="fill: rgb(148, 131, 109);" d="M 240.287 133.41 C 224.697 133.644 206.604 135.995 190.476 139.503 C 173.158 143.27 156.294 148.537 137.553 164.222 C 104.481 191.9 92.964 250.294 117.894 289.266 C 161.152 356.888 235.313 362.881 260.428 362.617 C 198.934 346.063 166.517 323.461 153.26 311.737 C 122.081 286.457 118.158 259.292 120.812 229.43 C 123.338 208.143 138.895 188.598 138.895 188.598 C 160.026 158.391 173.856 160.701 207.343 148.444 C 219.992 143.814 230.719 139.917 240.287 133.41 Z">\n            </path>\n            <path style="fill: rgb(148, 131, 109);" d="M 354.918 201.152 C 358.092 258.749 415.109 258.952 435.505 315.575 C 437.635 279.228 419.866 274.43 381.224 242.758 C 364.285 223.179 354.969 200.218 354.918 201.152 Z">\n            </path>\n        </g>\n        <g style="" transform="matrix(1.093884, 0, 0, 1.093884, -23.256585, -22.878154)">\n            <path style="fill: rgb(148, 131, 109); stroke-width: 1;" d="M 68.94 478.822 L 87.681 478.875 C 87.681 478.875 92.493 467.104 101.728 458.821 C 109.992 451.409 120.375 445.051 123.501 443.543 C 124.013 443.296 125.521 443.625 125.525 443.627 C 133.55 446.809 151.975 467.523 154.86 479.062 L 162.712 479.117 C 162.336 474.156 157.49 451.272 132.739 437.444 C 122.005 432.24 110.518 434.196 104.927 437.255 C 96.593 441.231 76.667 452.997 68.94 478.822 Z"></path>\n            <path style="fill: rgb(148, 131, 109); stroke-width: 1;" d="M 132.932 421.898 C 141.974 419.652 173.522 449.378 176.75 470.263 C 183.415 455.704 170.012 431.116 157.918 420.917 C 176.865 408.145 186.991 383.681 185.7 380.439 C 184.409 377.197 182.343 378.308 180.949 378.103 C 180.076 390.761 143.317 418.139 132.932 421.898 Z"></path>\n            <path style="fill: rgb(148, 131, 109); stroke-linecap: round; stroke-miterlimit: 11.38; stroke-linejoin: round; stroke-width: 0px; fill-rule: nonzero; paint-order: fill;" d="M 214.541 406.728 C 227.756 410.816 240.785 418.27 251.286 438.08 C 260.248 454.987 261.772 454.197 265.472 478.87 L 256.502 478.902 C 255.505 468.272 250.324 458.032 243.191 444.545 C 232.405 426.991 220.372 414.199 212.454 414.394 L 214.541 406.728 Z"></path>\n        </g>\n    </g>\n</svg>\n              <Tooltip side="left">\n                Arckzzz version ${t.rE}\n               </Tooltip>\n            </div>\n\n            <dialog\n                id="arckzzz-dialog"\n                class="arckzzz-dialog"\n                data-ref="dialog"\n            >\n                <div class="arckzzz-dialog-inner" data-ref="dialogInner">\n                    <h1>\n                        Arckzzz v${t.rE}\n                        <a\n                            class="discord"\n                            target="_blank"\n                            rel="noopener noreferrer"\n                            href="https://discord.gg/uZ6S9Dpy8a"\n                        >\n                            <svg width="64" height="48" viewBox="0 0 64 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M40.575 0C39.9562 1.09866 39.4006 2.2352 38.8954 3.397C34.0967 2.67719 29.2096 2.67719 24.3982 3.397C23.9057 2.2352 23.3374 1.09866 22.7186 0C18.2104 0.770324 13.8157 2.12155 9.64839 4.02841C1.38951 16.2652 -0.845688 28.1863 0.265599 39.9432C5.10222 43.517 10.5197 46.2447 16.2909 47.9874C17.5916 46.2447 18.7407 44.3883 19.7257 42.4562C17.8568 41.7616 16.0509 40.8903 14.3208 39.88C14.7755 39.5517 15.2175 39.2107 15.6468 38.8824C25.7873 43.6559 37.5316 43.6559 47.6847 38.8824C48.1141 39.236 48.5561 39.577 49.0107 39.88C47.2806 40.9029 45.4748 41.7616 43.5931 42.4688C44.5781 44.4009 45.7273 46.2573 47.028 48C52.7991 46.2573 58.2167 43.5422 63.0533 39.9684C64.3666 26.3299 60.8055 14.5099 53.6452 4.04104C49.4905 2.13418 45.0959 0.782952 40.5876 0.0252565L40.575 0ZM21.1401 32.7072C18.0209 32.7072 15.4321 29.8785 15.4321 26.3804C15.4321 22.8824 17.9199 20.041 21.1275 20.041C24.3351 20.041 26.886 22.895 26.8354 26.3804C26.7849 29.8658 24.3224 32.7072 21.1401 32.7072ZM42.1788 32.7072C39.047 32.7072 36.4834 29.8785 36.4834 26.3804C36.4834 22.8824 38.9712 20.041 42.1788 20.041C45.3864 20.041 47.9246 22.895 47.8741 26.3804C47.8236 29.8658 45.3611 32.7072 42.1788 32.7072Z" fill="white"/>\n</svg>\n Rejoindre\n                        </a>\n                        <span\n                            id="arckzzz-close"\n                            class="arckzzz-close-btn"\n                            style="cursor:pointer;"\n                            data-ref="closeBtn"\n                        >&times;</span>\n                    </h1>\n\n                    <p>${t.h_}</p>\n\n                    <div class="features">\n                        <h2>Fonctionnalités :</h2>\n                        <ul>\n                            <li>- Amélioration UI</li>\n                            <li>- Lanceur de chasse optimisé</li>\n                            <li>- Analyseur de chasse</li>\n                            <li>- Flood rapide de prise de tdc</li>\n                            <li>- Flood multiple sur alliance</li>\n                            <li>- Simulateur de combat</li>\n                            <li>- Rapport avancé de prise de tdc</li>\n                            <li>- Simplification des messages de flood</li>\n                            <li>- Simplification des messages de demande de convois</li>\n                            <li>- Statistiques détaillées</li>\n                            <li>- Chat amélioré</li>\n                            <li>- Interface d'alliance repensée avec les données des joueurs</li>\n                        </ul>\n                    </div>\n\n                    <div class="options">\n                        <h2>Options :</h2>\n                        <ul>\n                            <li>\n                                <label class="toggle">\n                                    <input type="checkbox" id="arckzzz-option-1" checked />\n                                    <div class="slider"></div>\n                                    Option 1\n                                </label>\n                            </li>\n                            <li>\n                                <label class="toggle">\n                                    <input type="checkbox" id="arckzzz-option-2" />\n                                    <div class="slider"></div>\n                                    Option 2\n                                </label>\n                            </li>\n                        </ul>\n                    </div>\n\n                    <footer class="arckzzz-footer">\n                        Arckzzz est un outil libre et n'est en aucun cas affilié à Ponera.\n                    </footer>\n                </div>\n            </dialog>\n        </div>\n    `}),g.define("Countdown",function(t,{onMount:e}){return e((e,n)=>{const r=n.timer;if(!r)return;const i=t.ts?Number(t.ts):NaN;if(!Number.isFinite(i))return void(r.textContent="invalid date");function o(){const t=Math.max(0,i-Date.now()),e=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),o=Math.floor(t%36e5/6e4),u=`${e>0?`${e}j `:""}${n>0?`${n}h `:""}${o>0?`${o}m `:""}${Math.floor(t%6e4/1e3)}s`.trim();r.textContent=u||"0s",t<=0&&clearInterval(a)}o();const a=window.setInterval(o,1e3)}),'\n        <span class="countdown-timer" data-ref="timer">...</span>\n    '}),g.define("Tooltip",(t,{})=>{var e,n;return`<span class="arckzzz-tooltip ${null!==(e=t.side)&&void 0!==e?e:"top"}">\n    ${null!==(n=t.children)&&void 0!==n?n:""}\n</span>`}),g.define("Toast",function(t,{onMount:e}){return e((t,e)=>{const n=e.host;n&&(g.toast=t=>{const e=`${Date.now()}-${Math.random().toString(16).slice(2)}`,r=document.createElement("div");var i;r.className="arckzzz-toast",r.setAttribute("data-id",e),r.innerHTML=`\n                <div class="arckzzz-toast-inner">\n                    ${i=t,i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}\n                </div>\n            `,n.appendChild(r),requestAnimationFrame(()=>{r.classList.add("show")}),setTimeout(()=>{r.classList.add("arckzzz-toast-leaving"),setTimeout(()=>{r.remove()},500)},5e3)})}),'\n        <div class="arckzzz-toast-host" data-ref="host"></div>\n    '}),g.define("PageReine",function(t,e){var n,i,o,a,c,s,l;const{onMount:f,useRef:d,useStore:p,useState:h}=e,[m,v]=p("training",{lastUpdate:new Date,training:{},tToken:""}),[b]=p("anthill",{lastUpdate:new Date,anthill:{}}),[y]=p("architecture",{lastUpdate:new Date,architecture:void 0,architecture_research:void 0}),[w]=p("laboratory",{lastUpdate:new Date,laboratory:void 0,laboratory_research:void 0}),z=A(m.training||{}),[k,C]=h(z),S=L(z),T=d(!1),E=d(!1),R=d(z),N=d({id:S.id,cost:S.cost,endTs:S.endTs}),O=d(m.tToken||t.t||"");f(async()=>{T.current||(T.current=!0,await async function(){try{const{serializedMap:t,hydratedMap:e,token:n}=await async function(){const t=await fetch("Reine.php",{method:"GET",credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP ${t.status}`);const e=await t.text(),n=(new DOMParser).parseFromString(e,"text/html"),{training:r,tToken:i}=_(n);return{serializedMap:A(r),hydratedMap:r,token:i||""}}(),{id:r,endTs:i,cost:o}=L(t);R.current=t,N.current={id:r,endTs:i,cost:o},n&&(O.current=n),C(t),v({lastUpdate:new Date,training:e,tToken:O.current||m.tToken||""})}catch(t){console.error("[Reine] refreshFromServerOnce error:",t)}}()),E.current||(E.current=!0,document.addEventListener("click",async t=>{const e=t.target;if(!e)return;if(!e.closest("[data-ref='cancelLast']"))return;const n=N.current;if(n.id)try{const t=`Reine.php?AnnulerPonte&t=${encodeURIComponent(O.current)}`,e=await fetch(t,{method:"GET",credentials:"same-origin"});if(!e.ok)throw new Error(`HTTP ${e.status}`);const i=await e.text(),o=new DOMParser,a=o.parseFromString(i,"text/html").querySelector("input[name='t']");a&&a.value&&(O.current=a.value);const u=Math.floor(n.cost/2),c=r().omit(R.current,[n.id]),{id:s,endTs:l,cost:f}=L(c);R.current=c,N.current={id:s,endTs:l,cost:f},C(c);const d=$(c);v({lastUpdate:new Date,training:d,tToken:O.current}),g.toast(`Annulation de la ponte ${n.id} confirmée — +${x(u)} nourriture récupérée`)}catch(t){console.error("[Reine] Annulation échouée :",t),g.toast("❌ Erreur lors de l'annulation de la ponte")}else g.toast("Aucune ponte à annuler")}),document.addEventListener("arck:ponte-sent",t=>{const e=t,{unitKey:n,unitData:r,qty:i,reductionfactor:o,toLabel:a}=e.detail||{},u=((null==r?void 0:r.spawnTime)||0)*o*i,c=Date.now(),s=Math.max(c,N.current.endTs||0),l=s+1e3*u,f=s>c?s:null,d=`temp_${Date.now()}`,p={end:l,startingAt:f,amount:i,on:n,to:a||"",productionRate:u>0?i/u:0},h={...R.current,[d]:p},{id:m,endTs:b,cost:y}=L(h);R.current=h,N.current={id:m,endTs:b,cost:y},C(h);const _=$(h);v({lastUpdate:new Date,training:_,tToken:O.current}),g.toast(`🚀 Nouvelle ponte ajoutée à la file: ${(null==r?void 0:r.name)||n} x${i}`)}))});const{endTs:j,cost:M}=L(k),U=Object.keys(k).length,q=U>1?"s":"",I=U>0,D=(null===(i=null===(n=y.architecture)||void 0===n?void 0:n.COUVEUSE)||void 0===i?void 0:i.level)||0,P=(null===(a=null===(o=y.architecture)||void 0===o?void 0:o.SOLARIUM)||void 0===a?void 0:a.level)||0,B=(null===(s=null===(c=w.laboratory)||void 0===c?void 0:c.TECHNIQUE_DE_PONTE)||void 0===s?void 0:s.level)||0,F=D+P+B,W=Math.pow(.9,F),H=(null===(l=b.anthill)||void 0===l?void 0:l.food)||0,Z=Math.round(1e4*(1-W))/100;return`\n        <div class="reine" data-ref="root">\n            <h1>Reine</h1>\n\n            ${I?`\n                <h2>\n                    <span class="reine-header-line">\n                        Pontes en cours\n                        <Tooltip side="right">\n                            ${U} ponte${q} finie${q} dans\n                            ${I?`<Countdown ts.num="${j}" />`:" -- "}\n                        </Tooltip>\n                    </span>\n                </h2>\n\n                <TrainingTable training="${k}"></TrainingTable>\n\n                <span data-ref="cancelLast" class="cancel-last" style="cursor:pointer;">\n                    Annuler la dernière ponte \n                    <i>\n                        (50% des resources seront rendu)\n                        <Tooltip side="top">\n                            Soit ${x(Math.floor(M/2))} nourriture\n                        </Tooltip>\n                    </i>\n                </span>\n            `:""}\n\n            <h2>Nouvelle ponte</h2>\n\n            <p class="niveau-ponte">\n                Niveau de ponte :\n                <b>\n                    ${F}\n                    <Tooltip side="top">\n                        <b>Couveuse</b> : ${D}<br/>\n                        <b>Solarium</b> : ${P}<br/>\n                        <b>Technique de ponte</b> : ${B}\n                    </Tooltip>\n                </b>\n                (réduction de temps de ${Z}%)\n            </p>\n\n            <Laying\n                reductionfactor.num="${W}"\n                currentfood.num="${H}"\n                t="${m.tToken||t.t||""}"\n            ></Laying>\n\n            <style>\n                .reine .units .unit .sprite {\n                    background: url('${u.f._}');\n                }\n            </style>\n        </div>\n    `}),g.define("PageArchitecture",function(t,e){var n,i,o;const{useStore:a,onMount:u}=e,[c]=a("anthill",{lastUpdate:new Date,anthill:{}}),[s]=a("architecture",{lastUpdate:new Date,architecture:void 0,architecture_research:void 0}),[d]=a("laboratory",{lastUpdate:new Date,laboratory:void 0,laboratory_research:void 0}),p=Math.pow(.9,null!==(o=null===(i=null===(n=null==d?void 0:d.laboratory)||void 0===n?void 0:n.ARCHITECTURE)||void 0===i?void 0:i.level)&&void 0!==o?o:0);return u(()=>{}),`\n        <div class="architecture" data-ref="root">\n            <h1>Construction</h1>\n\n            <h2>Améliorations en cours</h2>\n            <div class="upgrades">\n                \x3c!-- TODO: afficher architecture_research si besoin --\x3e\n                \x3c!-- exemple:\n                ${s.architecture_research?Object.values(s.architecture_research).map(t=>{var e,n;return`\n                        <div class="upgrade-line">\n                            ${t.on} se termine à ${(null===(n=(e=t.end).toLocaleString)||void 0===n?void 0:n.call(e))||t.end}\n                        </div>\n                    `}).join(""):"<div>Aucune amélioration en cours</div>"}\n                --\x3e\n            </div>\n\n            <h2>Liste des constructions</h2>\n            <div class="list">\n                ${r().entries(l).map(([t,n])=>{var r,i,o;const a=null!==(o=null===(i=null===(r=s.architecture)||void 0===r?void 0:r[t])||void 0===i?void 0:i.level)&&void 0!==o?o:0,[u]=e.useState(n);return`<BuildingCard\n                      mapping='${u}'\n                      level.num='${a}'\n                      reductionfactor.num="${p}"\n\n                    ></BuildingCard>`}).join("")}\n            </div>\n\n            <style>\n                .architecture .sprite {\n                    background-image: url('${f.sprite}');\n                }\n            </style>\n        </div>\n    `}),R=()=>{document.body.appendChild(g.renderComponent("Arckzzz")),document.body.appendChild(g.renderComponent("Toast")),document.body.querySelectorAll(".pub_leaderboard").forEach(t=>t.remove()),async function(){async function t(){if(!z){z=!0;try{await w()}catch(t){console.error("[collector] refresh error",t)}finally{z=!1}}}await t(),setInterval(t,3e4)}().then(()=>{var t;k.info("⚙️ Collector bootstrap completed");const e=document.querySelector("#centre");if(!e)return void g.flushMounts();const n=e.querySelector("nav#menu"),r=(null===(t=document.querySelector('input[name="t"]'))||void 0===t?void 0:t.value)||"";g.defineRoute(/Reine\.php$/i,"PageReine",()=>({t:r})),g.defineRoute(/construction\.php$/i,"PageArchitecture",()=>({t:r})),g.startRouting(e),n&&e.prepend(n),g.flushMounts()}).catch(t=>{k.error("❌ Collector bootstrap failed",t)})},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",R,{once:!0}):R()})()})();